(function(){"use strict";function s(){console.log("Injecting script to check permissions...");const t=document.createElement("script");t.textContent="("+function(){const c=["camera","microphone","geolocation","notifications"],n={};let i=0;c.forEach(o=>{navigator.permissions.query({name:o}).then(r=>{n[o]=r.state}).catch(()=>{n[o]="unsupported"}).finally(()=>{i++,i===c.length&&window.postMessage({type:"PERMISSIONS_RESULT",permissions:n},"*")})})}+")();";const e=document.head||document.documentElement;console.log("Injecting script into target:",e),e?(e.appendChild(t),t.remove()):console.error("No valid target for script injection.")}console.log("Content script loaded. Checking document ready state..."),document.readyState==="loading"?document.addEventListener("DOMContentLoaded",s):s(),window.addEventListener("message",t=>{if(t.source!==window)return;const e=t.data;e&&e.type==="PERMISSIONS_RESULT"&&console.log("Permissions result:",e.permissions)})})();
