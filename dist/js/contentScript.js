(function(){"use strict";async function t(){console.log("Content script: Starting permission check");const n=["camera","microphone","geolocation","notifications"],s={};let i=0;for(const o of n){try{const e=await navigator.permissions.query({name:o});s[o]=e.state,console.log(`${o} permission status:`,e.state)}catch{s[o]="unsupported",console.log(`${o} permission status: unsupported`)}i++}i===n.length&&(console.log("Content script: All permissions results:",s),chrome.storage.local.set({secway_permissions:s},()=>{console.log("Content script: Permissions stored in chrome.storage")}))}console.log("Content script: Script loaded"),document.readyState==="loading"?(console.log("Content script: Waiting for DOMContentLoaded"),document.addEventListener("DOMContentLoaded",t)):(console.log("Content script: DOM already loaded, checking permissions"),t())})();
