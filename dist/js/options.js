import"../assets/modulepreload-polyfill-3cfb730f.js";import{r as y,j as m,R as se,a as vo,c as Co}from"../assets/client-70e7bb7f.js";function te(n,t,{checkForDefaultPrevented:e=!0}={}){return function(r){if(n==null||n(r),e===!1||!r.defaultPrevented)return t==null?void 0:t(r)}}function Ve(n,t=[]){let e=[];function o(l,a){const u=y.createContext(a),c=e.length;e=[...e,a];const d=p=>{var w;const{scope:v,children:h,...g}=p,C=((w=v==null?void 0:v[n])==null?void 0:w[c])||u,E=y.useMemo(()=>g,Object.values(g));return m.jsx(C.Provider,{value:E,children:h})};d.displayName=l+"Provider";function f(p,v){var C;const h=((C=v==null?void 0:v[n])==null?void 0:C[c])||u,g=y.useContext(h);if(g)return g;if(a!==void 0)return a;throw new Error(`\`${p}\` must be used within \`${l}\``)}return[d,f]}const r=()=>{const l=e.map(a=>y.createContext(a));return function(u){const c=(u==null?void 0:u[n])||l;return y.useMemo(()=>({[`__scope${n}`]:{...u,[n]:c}}),[u,c])}};return r.scopeName=n,[o,xo(r,...t)]}function xo(...n){const t=n[0];if(n.length===1)return t;const e=()=>{const o=n.map(r=>({useScope:r(),scopeName:r.scopeName}));return function(l){const a=o.reduce((u,{useScope:c,scopeName:d})=>{const p=c(l)[`__scope${d}`];return{...u,...p}},{});return y.useMemo(()=>({[`__scope${t.scopeName}`]:a}),[a])}};return e.scopeName=t.scopeName,e}function lt(n,t){if(typeof n=="function")return n(t);n!=null&&(n.current=t)}function nn(...n){return t=>{let e=!1;const o=n.map(r=>{const l=lt(r,t);return!e&&typeof l=="function"&&(e=!0),l});if(e)return()=>{for(let r=0;r<o.length;r++){const l=o[r];typeof l=="function"?l():lt(n[r],null)}}}}function Ne(...n){return y.useCallback(nn(...n),n)}var Ce=y.forwardRef((n,t)=>{const{children:e,...o}=n,r=y.Children.toArray(e),l=r.find(To);if(l){const a=l.props.children,u=r.map(c=>c===l?y.Children.count(a)>1?y.Children.only(null):y.isValidElement(a)?a.props.children:null:c);return m.jsx(Be,{...o,ref:t,children:y.isValidElement(a)?y.cloneElement(a,void 0,u):null})}return m.jsx(Be,{...o,ref:t,children:e})});Ce.displayName="Slot";var Be=y.forwardRef((n,t)=>{const{children:e,...o}=n;if(y.isValidElement(e)){const r=Io(e),l=wo(o,e.props);return e.type!==y.Fragment&&(l.ref=t?nn(t,r):r),y.cloneElement(e,l)}return y.Children.count(e)>1?y.Children.only(null):null});Be.displayName="SlotClone";var Eo=({children:n})=>m.jsx(m.Fragment,{children:n});function To(n){return y.isValidElement(n)&&n.type===Eo}function wo(n,t){const e={...t};for(const o in t){const r=n[o],l=t[o];/^on[A-Z]/.test(o)?r&&l?e[o]=(...u)=>{l(...u),r(...u)}:r&&(e[o]=r):o==="style"?e[o]={...r,...l}:o==="className"&&(e[o]=[r,l].filter(Boolean).join(" "))}return{...n,...e}}function Io(n){var o,r;let t=(o=Object.getOwnPropertyDescriptor(n.props,"ref"))==null?void 0:o.get,e=t&&"isReactWarning"in t&&t.isReactWarning;return e?n.ref:(t=(r=Object.getOwnPropertyDescriptor(n,"ref"))==null?void 0:r.get,e=t&&"isReactWarning"in t&&t.isReactWarning,e?n.props.ref:n.props.ref||n.ref)}function Ao(n){const t=n+"CollectionProvider",[e,o]=Ve(t),[r,l]=e(t,{collectionRef:{current:null},itemMap:new Map}),a=h=>{const{scope:g,children:C}=h,E=se.useRef(null),w=se.useRef(new Map).current;return m.jsx(r,{scope:g,itemMap:w,collectionRef:E,children:C})};a.displayName=t;const u=n+"CollectionSlot",c=se.forwardRef((h,g)=>{const{scope:C,children:E}=h,w=l(u,C),x=Ne(g,w.collectionRef);return m.jsx(Ce,{ref:x,children:E})});c.displayName=u;const d=n+"CollectionItemSlot",f="data-radix-collection-item",p=se.forwardRef((h,g)=>{const{scope:C,children:E,...w}=h,x=se.useRef(null),_=Ne(g,x),N=l(d,C);return se.useEffect(()=>(N.itemMap.set(x,{ref:x,...w}),()=>void N.itemMap.delete(x))),m.jsx(Ce,{[f]:"",ref:_,children:E})});p.displayName=d;function v(h){const g=l(n+"CollectionConsumer",h);return se.useCallback(()=>{const E=g.collectionRef.current;if(!E)return[];const w=Array.from(E.querySelectorAll(`[${f}]`));return Array.from(g.itemMap.values()).sort((N,F)=>w.indexOf(N.ref.current)-w.indexOf(F.ref.current))},[g.collectionRef,g.itemMap])}return[{Provider:a,Slot:c,ItemSlot:p},v,o]}var xe=globalThis!=null&&globalThis.document?y.useLayoutEffect:()=>{},_o=vo["useId".toString()]||(()=>{}),So=0;function on(n){const[t,e]=y.useState(_o());return xe(()=>{n||e(o=>o??String(So++))},[n]),n||(t?`radix-${t}`:"")}var Mo=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","span","svg","ul"],ne=Mo.reduce((n,t)=>{const e=y.forwardRef((o,r)=>{const{asChild:l,...a}=o,u=l?Ce:t;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),m.jsx(u,{...a,ref:r})});return e.displayName=`Primitive.${t}`,{...n,[t]:e}},{});function Le(n){const t=y.useRef(n);return y.useEffect(()=>{t.current=n}),y.useMemo(()=>(...e)=>{var o;return(o=t.current)==null?void 0:o.call(t,...e)},[])}function rn({prop:n,defaultProp:t,onChange:e=()=>{}}){const[o,r]=Ro({defaultProp:t,onChange:e}),l=n!==void 0,a=l?n:o,u=Le(e),c=y.useCallback(d=>{if(l){const p=typeof d=="function"?d(n):d;p!==n&&u(p)}else r(d)},[l,n,r,u]);return[a,c]}function Ro({defaultProp:n,onChange:t}){const e=y.useState(n),[o]=e,r=y.useRef(o),l=Le(t);return y.useEffect(()=>{r.current!==o&&(l(o),r.current=o)},[o,r,l]),e}var bo=y.createContext(void 0);function sn(n){const t=y.useContext(bo);return n||t||"ltr"}var Ge="rovingFocusGroup.onEntryFocus",No={bubbles:!1,cancelable:!0},ke="RovingFocusGroup",[$e,ln,Po]=Ao(ke),[Do,an]=Ve(ke,[Po]),[Fo,Vo]=Do(ke),un=y.forwardRef((n,t)=>m.jsx($e.Provider,{scope:n.__scopeRovingFocusGroup,children:m.jsx($e.Slot,{scope:n.__scopeRovingFocusGroup,children:m.jsx(Lo,{...n,ref:t})})}));un.displayName=ke;var Lo=y.forwardRef((n,t)=>{const{__scopeRovingFocusGroup:e,orientation:o,loop:r=!1,dir:l,currentTabStopId:a,defaultCurrentTabStopId:u,onCurrentTabStopIdChange:c,onEntryFocus:d,preventScrollOnEntryFocus:f=!1,...p}=n,v=y.useRef(null),h=Ne(t,v),g=sn(l),[C=null,E]=rn({prop:a,defaultProp:u,onChange:c}),[w,x]=y.useState(!1),_=Le(d),N=ln(e),F=y.useRef(!1),[T,b]=y.useState(0);return y.useEffect(()=>{const D=v.current;if(D)return D.addEventListener(Ge,_),()=>D.removeEventListener(Ge,_)},[_]),m.jsx(Fo,{scope:e,orientation:o,dir:g,loop:r,currentTabStopId:C,onItemFocus:y.useCallback(D=>E(D),[E]),onItemShiftTab:y.useCallback(()=>x(!0),[]),onFocusableItemAdd:y.useCallback(()=>b(D=>D+1),[]),onFocusableItemRemove:y.useCallback(()=>b(D=>D-1),[]),children:m.jsx(ne.div,{tabIndex:w||T===0?-1:0,"data-orientation":o,...p,ref:h,style:{outline:"none",...n.style},onMouseDown:te(n.onMouseDown,()=>{F.current=!0}),onFocus:te(n.onFocus,D=>{const W=!F.current;if(D.target===D.currentTarget&&W&&!w){const O=new CustomEvent(Ge,No);if(D.currentTarget.dispatchEvent(O),!O.defaultPrevented){const X=N().filter(S=>S.focusable),j=X.find(S=>S.active),H=X.find(S=>S.id===C),Q=[j,H,...X].filter(Boolean).map(S=>S.ref.current);fn(Q,f)}}F.current=!1}),onBlur:te(n.onBlur,()=>x(!1))})})}),cn="RovingFocusGroupItem",dn=y.forwardRef((n,t)=>{const{__scopeRovingFocusGroup:e,focusable:o=!0,active:r=!1,tabStopId:l,...a}=n,u=on(),c=l||u,d=Vo(cn,e),f=d.currentTabStopId===c,p=ln(e),{onFocusableItemAdd:v,onFocusableItemRemove:h}=d;return y.useEffect(()=>{if(o)return v(),()=>h()},[o,v,h]),m.jsx($e.ItemSlot,{scope:e,id:c,focusable:o,active:r,children:m.jsx(ne.span,{tabIndex:f?0:-1,"data-orientation":d.orientation,...a,ref:t,onMouseDown:te(n.onMouseDown,g=>{o?d.onItemFocus(c):g.preventDefault()}),onFocus:te(n.onFocus,()=>d.onItemFocus(c)),onKeyDown:te(n.onKeyDown,g=>{if(g.key==="Tab"&&g.shiftKey){d.onItemShiftTab();return}if(g.target!==g.currentTarget)return;const C=Go(g,d.orientation,d.dir);if(C!==void 0){if(g.metaKey||g.ctrlKey||g.altKey||g.shiftKey)return;g.preventDefault();let w=p().filter(x=>x.focusable).map(x=>x.ref.current);if(C==="last")w.reverse();else if(C==="prev"||C==="next"){C==="prev"&&w.reverse();const x=w.indexOf(g.currentTarget);w=d.loop?qo(w,x+1):w.slice(x+1)}setTimeout(()=>fn(w))}})})})});dn.displayName=cn;var ko={ArrowLeft:"prev",ArrowUp:"prev",ArrowRight:"next",ArrowDown:"next",PageUp:"first",Home:"first",PageDown:"last",End:"last"};function Uo(n,t){return t!=="rtl"?n:n==="ArrowLeft"?"ArrowRight":n==="ArrowRight"?"ArrowLeft":n}function Go(n,t,e){const o=Uo(n.key,e);if(!(t==="vertical"&&["ArrowLeft","ArrowRight"].includes(o))&&!(t==="horizontal"&&["ArrowUp","ArrowDown"].includes(o)))return ko[o]}function fn(n,t=!1){const e=document.activeElement;for(const o of n)if(o===e||(o.focus({preventScroll:t}),document.activeElement!==e))return}function qo(n,t){return n.map((e,o)=>n[(t+o)%n.length])}var Oo=un,Bo=dn;function $o(n,t){return y.useReducer((e,o)=>t[e][o]??e,n)}var pn=n=>{const{present:t,children:e}=n,o=Ho(t),r=typeof e=="function"?e({present:o.isPresent}):y.Children.only(e),l=Ne(o.ref,zo(r));return typeof e=="function"||o.isPresent?y.cloneElement(r,{ref:l}):null};pn.displayName="Presence";function Ho(n){const[t,e]=y.useState(),o=y.useRef({}),r=y.useRef(n),l=y.useRef("none"),a=n?"mounted":"unmounted",[u,c]=$o(a,{mounted:{UNMOUNT:"unmounted",ANIMATION_OUT:"unmountSuspended"},unmountSuspended:{MOUNT:"mounted",ANIMATION_END:"unmounted"},unmounted:{MOUNT:"mounted"}});return y.useEffect(()=>{const d=Ae(o.current);l.current=u==="mounted"?d:"none"},[u]),xe(()=>{const d=o.current,f=r.current;if(f!==n){const v=l.current,h=Ae(d);n?c("MOUNT"):h==="none"||(d==null?void 0:d.display)==="none"?c("UNMOUNT"):c(f&&v!==h?"ANIMATION_OUT":"UNMOUNT"),r.current=n}},[n,c]),xe(()=>{if(t){let d;const f=t.ownerDocument.defaultView??window,p=h=>{const C=Ae(o.current).includes(h.animationName);if(h.target===t&&C&&(c("ANIMATION_END"),!r.current)){const E=t.style.animationFillMode;t.style.animationFillMode="forwards",d=f.setTimeout(()=>{t.style.animationFillMode==="forwards"&&(t.style.animationFillMode=E)})}},v=h=>{h.target===t&&(l.current=Ae(o.current))};return t.addEventListener("animationstart",v),t.addEventListener("animationcancel",p),t.addEventListener("animationend",p),()=>{f.clearTimeout(d),t.removeEventListener("animationstart",v),t.removeEventListener("animationcancel",p),t.removeEventListener("animationend",p)}}else c("ANIMATION_END")},[t,c]),{isPresent:["mounted","unmountSuspended"].includes(u),ref:y.useCallback(d=>{d&&(o.current=getComputedStyle(d)),e(d)},[])}}function Ae(n){return(n==null?void 0:n.animationName)||"none"}function zo(n){var o,r;let t=(o=Object.getOwnPropertyDescriptor(n.props,"ref"))==null?void 0:o.get,e=t&&"isReactWarning"in t&&t.isReactWarning;return e?n.ref:(t=(r=Object.getOwnPropertyDescriptor(n,"ref"))==null?void 0:r.get,e=t&&"isReactWarning"in t&&t.isReactWarning,e?n.props.ref:n.props.ref||n.ref)}var et="Tabs",[Ko,Ua]=Ve(et,[an]),mn=an(),[Yo,tt]=Ko(et),hn=y.forwardRef((n,t)=>{const{__scopeTabs:e,value:o,onValueChange:r,defaultValue:l,orientation:a="horizontal",dir:u,activationMode:c="automatic",...d}=n,f=sn(u),[p,v]=rn({prop:o,onChange:r,defaultProp:l});return m.jsx(Yo,{scope:e,baseId:on(),value:p,onValueChange:v,orientation:a,dir:f,activationMode:c,children:m.jsx(ne.div,{dir:f,"data-orientation":a,...d,ref:t})})});hn.displayName=et;var gn="TabsList",yn=y.forwardRef((n,t)=>{const{__scopeTabs:e,loop:o=!0,...r}=n,l=tt(gn,e),a=mn(e);return m.jsx(Oo,{asChild:!0,...a,orientation:l.orientation,dir:l.dir,loop:o,children:m.jsx(ne.div,{role:"tablist","aria-orientation":l.orientation,...r,ref:t})})});yn.displayName=gn;var vn="TabsTrigger",Cn=y.forwardRef((n,t)=>{const{__scopeTabs:e,value:o,disabled:r=!1,...l}=n,a=tt(vn,e),u=mn(e),c=Tn(a.baseId,o),d=wn(a.baseId,o),f=o===a.value;return m.jsx(Bo,{asChild:!0,...u,focusable:!r,active:f,children:m.jsx(ne.button,{type:"button",role:"tab","aria-selected":f,"aria-controls":d,"data-state":f?"active":"inactive","data-disabled":r?"":void 0,disabled:r,id:c,...l,ref:t,onMouseDown:te(n.onMouseDown,p=>{!r&&p.button===0&&p.ctrlKey===!1?a.onValueChange(o):p.preventDefault()}),onKeyDown:te(n.onKeyDown,p=>{[" ","Enter"].includes(p.key)&&a.onValueChange(o)}),onFocus:te(n.onFocus,()=>{const p=a.activationMode!=="manual";!f&&!r&&p&&a.onValueChange(o)})})})});Cn.displayName=vn;var xn="TabsContent",En=y.forwardRef((n,t)=>{const{__scopeTabs:e,value:o,forceMount:r,children:l,...a}=n,u=tt(xn,e),c=Tn(u.baseId,o),d=wn(u.baseId,o),f=o===u.value,p=y.useRef(f);return y.useEffect(()=>{const v=requestAnimationFrame(()=>p.current=!1);return()=>cancelAnimationFrame(v)},[]),m.jsx(pn,{present:r||f,children:({present:v})=>m.jsx(ne.div,{"data-state":f?"active":"inactive","data-orientation":u.orientation,role:"tabpanel","aria-labelledby":c,hidden:!v,id:d,tabIndex:0,...a,ref:t,style:{...n.style,animationDuration:p.current?"0s":void 0},children:v&&l})})});En.displayName=xn;function Tn(n,t){return`${n}-trigger-${t}`}function wn(n,t){return`${n}-content-${t}`}var Wo=hn,In=yn,An=Cn,_n=En;function Sn(n){var t,e,o="";if(typeof n=="string"||typeof n=="number")o+=n;else if(typeof n=="object")if(Array.isArray(n)){var r=n.length;for(t=0;t<r;t++)n[t]&&(e=Sn(n[t]))&&(o&&(o+=" "),o+=e)}else for(e in n)n[e]&&(o&&(o+=" "),o+=e);return o}function Mn(){for(var n,t,e=0,o="",r=arguments.length;e<r;e++)(n=arguments[e])&&(t=Sn(n))&&(o&&(o+=" "),o+=t);return o}const nt="-",Jo=n=>{const t=Qo(n),{conflictingClassGroups:e,conflictingClassGroupModifiers:o}=n;return{getClassGroupId:a=>{const u=a.split(nt);return u[0]===""&&u.length!==1&&u.shift(),Rn(u,t)||Xo(a)},getConflictingClassGroupIds:(a,u)=>{const c=e[a]||[];return u&&o[a]?[...c,...o[a]]:c}}},Rn=(n,t)=>{var a;if(n.length===0)return t.classGroupId;const e=n[0],o=t.nextPart.get(e),r=o?Rn(n.slice(1),o):void 0;if(r)return r;if(t.validators.length===0)return;const l=n.join(nt);return(a=t.validators.find(({validator:u})=>u(l)))==null?void 0:a.classGroupId},at=/^\[(.+)\]$/,Xo=n=>{if(at.test(n)){const t=at.exec(n)[1],e=t==null?void 0:t.substring(0,t.indexOf(":"));if(e)return"arbitrary.."+e}},Qo=n=>{const{theme:t,classGroups:e}=n,o={nextPart:new Map,validators:[]};for(const r in e)He(e[r],o,r,t);return o},He=(n,t,e,o)=>{n.forEach(r=>{if(typeof r=="string"){const l=r===""?t:ut(t,r);l.classGroupId=e;return}if(typeof r=="function"){if(Zo(r)){He(r(o),t,e,o);return}t.validators.push({validator:r,classGroupId:e});return}Object.entries(r).forEach(([l,a])=>{He(a,ut(t,l),e,o)})})},ut=(n,t)=>{let e=n;return t.split(nt).forEach(o=>{e.nextPart.has(o)||e.nextPart.set(o,{nextPart:new Map,validators:[]}),e=e.nextPart.get(o)}),e},Zo=n=>n.isThemeGetter,jo=n=>{if(n<1)return{get:()=>{},set:()=>{}};let t=0,e=new Map,o=new Map;const r=(l,a)=>{e.set(l,a),t++,t>n&&(t=0,o=e,e=new Map)};return{get(l){let a=e.get(l);if(a!==void 0)return a;if((a=o.get(l))!==void 0)return r(l,a),a},set(l,a){e.has(l)?e.set(l,a):r(l,a)}}},ze="!",Ke=":",er=Ke.length,tr=n=>{const{prefix:t,experimentalParseClassName:e}=n;let o=r=>{const l=[];let a=0,u=0,c=0,d;for(let g=0;g<r.length;g++){let C=r[g];if(a===0&&u===0){if(C===Ke){l.push(r.slice(c,g)),c=g+er;continue}if(C==="/"){d=g;continue}}C==="["?a++:C==="]"?a--:C==="("?u++:C===")"&&u--}const f=l.length===0?r:r.substring(c),p=nr(f),v=p!==f,h=d&&d>c?d-c:void 0;return{modifiers:l,hasImportantModifier:v,baseClassName:p,maybePostfixModifierPosition:h}};if(t){const r=t+Ke,l=o;o=a=>a.startsWith(r)?l(a.substring(r.length)):{isExternal:!0,modifiers:[],hasImportantModifier:!1,baseClassName:a,maybePostfixModifierPosition:void 0}}if(e){const r=o;o=l=>e({className:l,parseClassName:r})}return o},nr=n=>n.endsWith(ze)?n.substring(0,n.length-1):n.startsWith(ze)?n.substring(1):n,or=n=>{const t=Object.fromEntries(n.orderSensitiveModifiers.map(o=>[o,!0]));return o=>{if(o.length<=1)return o;const r=[];let l=[];return o.forEach(a=>{a[0]==="["||t[a]?(r.push(...l.sort(),a),l=[]):l.push(a)}),r.push(...l.sort()),r}},rr=n=>({cache:jo(n.cacheSize),parseClassName:tr(n),sortModifiers:or(n),...Jo(n)}),ir=/\s+/,sr=(n,t)=>{const{parseClassName:e,getClassGroupId:o,getConflictingClassGroupIds:r,sortModifiers:l}=t,a=[],u=n.trim().split(ir);let c="";for(let d=u.length-1;d>=0;d-=1){const f=u[d],{isExternal:p,modifiers:v,hasImportantModifier:h,baseClassName:g,maybePostfixModifierPosition:C}=e(f);if(p){c=f+(c.length>0?" "+c:c);continue}let E=!!C,w=o(E?g.substring(0,C):g);if(!w){if(!E){c=f+(c.length>0?" "+c:c);continue}if(w=o(g),!w){c=f+(c.length>0?" "+c:c);continue}E=!1}const x=l(v).join(":"),_=h?x+ze:x,N=_+w;if(a.includes(N))continue;a.push(N);const F=r(w,E);for(let T=0;T<F.length;++T){const b=F[T];a.push(_+b)}c=f+(c.length>0?" "+c:c)}return c};function lr(){let n=0,t,e,o="";for(;n<arguments.length;)(t=arguments[n++])&&(e=bn(t))&&(o&&(o+=" "),o+=e);return o}const bn=n=>{if(typeof n=="string")return n;let t,e="";for(let o=0;o<n.length;o++)n[o]&&(t=bn(n[o]))&&(e&&(e+=" "),e+=t);return e};function ar(n,...t){let e,o,r,l=a;function a(c){const d=t.reduce((f,p)=>p(f),n());return e=rr(d),o=e.cache.get,r=e.cache.set,l=u,u(c)}function u(c){const d=o(c);if(d)return d;const f=sr(c,e);return r(c,f),f}return function(){return l(lr.apply(null,arguments))}}const q=n=>{const t=e=>e[n]||[];return t.isThemeGetter=!0,t},Nn=/^\[(?:(\w[\w-]*):)?(.+)\]$/i,Pn=/^\((?:(\w[\w-]*):)?(.+)\)$/i,ur=/^\d+\/\d+$/,cr=/^(\d+(\.\d+)?)?(xs|sm|md|lg|xl)$/,dr=/\d+(%|px|r?em|[sdl]?v([hwib]|min|max)|pt|pc|in|cm|mm|cap|ch|ex|r?lh|cq(w|h|i|b|min|max))|\b(calc|min|max|clamp)\(.+\)|^0$/,fr=/^(rgba?|hsla?|hwb|(ok)?(lab|lch))\(.+\)$/,pr=/^(inset_)?-?((\d+)?\.?(\d+)[a-z]+|0)_-?((\d+)?\.?(\d+)[a-z]+|0)/,mr=/^(url|image|image-set|cross-fade|element|(repeating-)?(linear|radial|conic)-gradient)\(.+\)$/,fe=n=>ur.test(n),R=n=>!!n&&!Number.isNaN(Number(n)),re=n=>!!n&&Number.isInteger(Number(n)),ct=n=>n.endsWith("%")&&R(n.slice(0,-1)),ie=n=>cr.test(n),hr=()=>!0,gr=n=>dr.test(n)&&!fr.test(n),ot=()=>!1,yr=n=>pr.test(n),vr=n=>mr.test(n),Cr=n=>!I(n)&&!A(n),xr=n=>ge(n,Vn,ot),I=n=>Nn.test(n),ue=n=>ge(n,Ln,gr),qe=n=>ge(n,Nr,R),Er=n=>ge(n,Dn,ot),Tr=n=>ge(n,Fn,vr),wr=n=>ge(n,ot,yr),A=n=>Pn.test(n),ve=n=>ye(n,Ln),Ir=n=>ye(n,Pr),Ar=n=>ye(n,Dn),_r=n=>ye(n,Vn),Sr=n=>ye(n,Fn),Mr=n=>ye(n,Dr,!0),ge=(n,t,e)=>{const o=Nn.exec(n);return o?o[1]?t(o[1]):e(o[2]):!1},ye=(n,t,e=!1)=>{const o=Pn.exec(n);return o?o[1]?t(o[1]):e:!1},Dn=n=>n==="position",Rr=new Set(["image","url"]),Fn=n=>Rr.has(n),br=new Set(["length","size","percentage"]),Vn=n=>br.has(n),Ln=n=>n==="length",Nr=n=>n==="number",Pr=n=>n==="family-name",Dr=n=>n==="shadow",Fr=()=>{const n=q("color"),t=q("font"),e=q("text"),o=q("font-weight"),r=q("tracking"),l=q("leading"),a=q("breakpoint"),u=q("container"),c=q("spacing"),d=q("radius"),f=q("shadow"),p=q("inset-shadow"),v=q("drop-shadow"),h=q("blur"),g=q("perspective"),C=q("aspect"),E=q("ease"),w=q("animate"),x=()=>["auto","avoid","all","avoid-page","page","left","right","column"],_=()=>["bottom","center","left","left-bottom","left-top","right","right-bottom","right-top","top"],N=()=>["auto","hidden","clip","visible","scroll"],F=()=>["auto","contain","none"],T=()=>[A,I,c],b=()=>[fe,"full","auto",...T()],D=()=>[re,"none","subgrid",A,I],W=()=>["auto",{span:["full",re,A,I]},re,A,I],O=()=>[re,"auto",A,I],X=()=>["auto","min","max","fr",A,I],j=()=>["start","end","center","between","around","evenly","stretch","baseline"],H=()=>["start","end","center","stretch"],J=()=>["auto",...T()],Q=()=>[fe,"auto","full","dvw","dvh","lvw","lvh","svw","svh","min","max","fit",...T()],S=()=>[n,A,I],de=()=>[ct,ve,ue],G=()=>["","none","full",d,A,I],B=()=>["",R,ve,ue],M=()=>["solid","dashed","dotted","double"],k=()=>["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity"],$=()=>["","none",h,A,I],V=()=>["center","top","top-right","right","bottom-right","bottom","bottom-left","left","top-left",A,I],U=()=>["none",R,A,I],oe=()=>["none",R,A,I],ee=()=>[R,A,I],Ie=()=>[fe,"full",...T()];return{cacheSize:500,theme:{animate:["spin","ping","pulse","bounce"],aspect:["video"],blur:[ie],breakpoint:[ie],color:[hr],container:[ie],"drop-shadow":[ie],ease:["in","out","in-out"],font:[Cr],"font-weight":["thin","extralight","light","normal","medium","semibold","bold","extrabold","black"],"inset-shadow":[ie],leading:["none","tight","snug","normal","relaxed","loose"],perspective:["dramatic","near","normal","midrange","distant","none"],radius:[ie],shadow:[ie],spacing:["px",R],text:[ie],tracking:["tighter","tight","normal","wide","wider","widest"]},classGroups:{aspect:[{aspect:["auto","square",fe,I,A,C]}],container:["container"],columns:[{columns:[R,I,A,u]}],"break-after":[{"break-after":x()}],"break-before":[{"break-before":x()}],"break-inside":[{"break-inside":["auto","avoid","avoid-page","avoid-column"]}],"box-decoration":[{"box-decoration":["slice","clone"]}],box:[{box:["border","content"]}],display:["block","inline-block","inline","flex","inline-flex","table","inline-table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row-group","table-row","flow-root","grid","inline-grid","contents","list-item","hidden"],sr:["sr-only","not-sr-only"],float:[{float:["right","left","none","start","end"]}],clear:[{clear:["left","right","both","none","start","end"]}],isolation:["isolate","isolation-auto"],"object-fit":[{object:["contain","cover","fill","none","scale-down"]}],"object-position":[{object:[..._(),I,A]}],overflow:[{overflow:N()}],"overflow-x":[{"overflow-x":N()}],"overflow-y":[{"overflow-y":N()}],overscroll:[{overscroll:F()}],"overscroll-x":[{"overscroll-x":F()}],"overscroll-y":[{"overscroll-y":F()}],position:["static","fixed","absolute","relative","sticky"],inset:[{inset:b()}],"inset-x":[{"inset-x":b()}],"inset-y":[{"inset-y":b()}],start:[{start:b()}],end:[{end:b()}],top:[{top:b()}],right:[{right:b()}],bottom:[{bottom:b()}],left:[{left:b()}],visibility:["visible","invisible","collapse"],z:[{z:[re,"auto",A,I]}],basis:[{basis:[fe,"full","auto",u,...T()]}],"flex-direction":[{flex:["row","row-reverse","col","col-reverse"]}],"flex-wrap":[{flex:["nowrap","wrap","wrap-reverse"]}],flex:[{flex:[R,fe,"auto","initial","none",I]}],grow:[{grow:["",R,A,I]}],shrink:[{shrink:["",R,A,I]}],order:[{order:[re,"first","last","none",A,I]}],"grid-cols":[{"grid-cols":D()}],"col-start-end":[{col:W()}],"col-start":[{"col-start":O()}],"col-end":[{"col-end":O()}],"grid-rows":[{"grid-rows":D()}],"row-start-end":[{row:W()}],"row-start":[{"row-start":O()}],"row-end":[{"row-end":O()}],"grid-flow":[{"grid-flow":["row","col","dense","row-dense","col-dense"]}],"auto-cols":[{"auto-cols":X()}],"auto-rows":[{"auto-rows":X()}],gap:[{gap:T()}],"gap-x":[{"gap-x":T()}],"gap-y":[{"gap-y":T()}],"justify-content":[{justify:[...j(),"normal"]}],"justify-items":[{"justify-items":[...H(),"normal"]}],"justify-self":[{"justify-self":["auto",...H()]}],"align-content":[{content:["normal",...j()]}],"align-items":[{items:[...H(),"baseline"]}],"align-self":[{self:["auto",...H(),"baseline"]}],"place-content":[{"place-content":j()}],"place-items":[{"place-items":[...H(),"baseline"]}],"place-self":[{"place-self":["auto",...H()]}],p:[{p:T()}],px:[{px:T()}],py:[{py:T()}],ps:[{ps:T()}],pe:[{pe:T()}],pt:[{pt:T()}],pr:[{pr:T()}],pb:[{pb:T()}],pl:[{pl:T()}],m:[{m:J()}],mx:[{mx:J()}],my:[{my:J()}],ms:[{ms:J()}],me:[{me:J()}],mt:[{mt:J()}],mr:[{mr:J()}],mb:[{mb:J()}],ml:[{ml:J()}],"space-x":[{"space-x":T()}],"space-x-reverse":["space-x-reverse"],"space-y":[{"space-y":T()}],"space-y-reverse":["space-y-reverse"],size:[{size:Q()}],w:[{w:[u,"screen",...Q()]}],"min-w":[{"min-w":[u,"screen","none",...Q()]}],"max-w":[{"max-w":[u,"screen","none","prose",{screen:[a]},...Q()]}],h:[{h:["screen",...Q()]}],"min-h":[{"min-h":["screen","none",...Q()]}],"max-h":[{"max-h":["screen",...Q()]}],"font-size":[{text:["base",e,ve,ue]}],"font-smoothing":["antialiased","subpixel-antialiased"],"font-style":["italic","not-italic"],"font-weight":[{font:[o,A,qe]}],"font-stretch":[{"font-stretch":["ultra-condensed","extra-condensed","condensed","semi-condensed","normal","semi-expanded","expanded","extra-expanded","ultra-expanded",ct,I]}],"font-family":[{font:[Ir,I,t]}],"fvn-normal":["normal-nums"],"fvn-ordinal":["ordinal"],"fvn-slashed-zero":["slashed-zero"],"fvn-figure":["lining-nums","oldstyle-nums"],"fvn-spacing":["proportional-nums","tabular-nums"],"fvn-fraction":["diagonal-fractions","stacked-fractions"],tracking:[{tracking:[r,A,I]}],"line-clamp":[{"line-clamp":[R,"none",A,qe]}],leading:[{leading:[l,...T()]}],"list-image":[{"list-image":["none",A,I]}],"list-style-position":[{list:["inside","outside"]}],"list-style-type":[{list:["disc","decimal","none",A,I]}],"text-alignment":[{text:["left","center","right","justify","start","end"]}],"placeholder-color":[{placeholder:S()}],"text-color":[{text:S()}],"text-decoration":["underline","overline","line-through","no-underline"],"text-decoration-style":[{decoration:[...M(),"wavy"]}],"text-decoration-thickness":[{decoration:[R,"from-font","auto",A,ue]}],"text-decoration-color":[{decoration:S()}],"underline-offset":[{"underline-offset":[R,"auto",A,I]}],"text-transform":["uppercase","lowercase","capitalize","normal-case"],"text-overflow":["truncate","text-ellipsis","text-clip"],"text-wrap":[{text:["wrap","nowrap","balance","pretty"]}],indent:[{indent:T()}],"vertical-align":[{align:["baseline","top","middle","bottom","text-top","text-bottom","sub","super",A,I]}],whitespace:[{whitespace:["normal","nowrap","pre","pre-line","pre-wrap","break-spaces"]}],break:[{break:["normal","words","all","keep"]}],hyphens:[{hyphens:["none","manual","auto"]}],content:[{content:["none",A,I]}],"bg-attachment":[{bg:["fixed","local","scroll"]}],"bg-clip":[{"bg-clip":["border","padding","content","text"]}],"bg-origin":[{"bg-origin":["border","padding","content"]}],"bg-position":[{bg:[..._(),Ar,Er]}],"bg-repeat":[{bg:["no-repeat",{repeat:["","x","y","space","round"]}]}],"bg-size":[{bg:["auto","cover","contain",_r,xr]}],"bg-image":[{bg:["none",{linear:[{to:["t","tr","r","br","b","bl","l","tl"]},re,A,I],radial:["",A,I],conic:[re,A,I]},Sr,Tr]}],"bg-color":[{bg:S()}],"gradient-from-pos":[{from:de()}],"gradient-via-pos":[{via:de()}],"gradient-to-pos":[{to:de()}],"gradient-from":[{from:S()}],"gradient-via":[{via:S()}],"gradient-to":[{to:S()}],rounded:[{rounded:G()}],"rounded-s":[{"rounded-s":G()}],"rounded-e":[{"rounded-e":G()}],"rounded-t":[{"rounded-t":G()}],"rounded-r":[{"rounded-r":G()}],"rounded-b":[{"rounded-b":G()}],"rounded-l":[{"rounded-l":G()}],"rounded-ss":[{"rounded-ss":G()}],"rounded-se":[{"rounded-se":G()}],"rounded-ee":[{"rounded-ee":G()}],"rounded-es":[{"rounded-es":G()}],"rounded-tl":[{"rounded-tl":G()}],"rounded-tr":[{"rounded-tr":G()}],"rounded-br":[{"rounded-br":G()}],"rounded-bl":[{"rounded-bl":G()}],"border-w":[{border:B()}],"border-w-x":[{"border-x":B()}],"border-w-y":[{"border-y":B()}],"border-w-s":[{"border-s":B()}],"border-w-e":[{"border-e":B()}],"border-w-t":[{"border-t":B()}],"border-w-r":[{"border-r":B()}],"border-w-b":[{"border-b":B()}],"border-w-l":[{"border-l":B()}],"divide-x":[{"divide-x":B()}],"divide-x-reverse":["divide-x-reverse"],"divide-y":[{"divide-y":B()}],"divide-y-reverse":["divide-y-reverse"],"border-style":[{border:[...M(),"hidden","none"]}],"divide-style":[{divide:[...M(),"hidden","none"]}],"border-color":[{border:S()}],"border-color-x":[{"border-x":S()}],"border-color-y":[{"border-y":S()}],"border-color-s":[{"border-s":S()}],"border-color-e":[{"border-e":S()}],"border-color-t":[{"border-t":S()}],"border-color-r":[{"border-r":S()}],"border-color-b":[{"border-b":S()}],"border-color-l":[{"border-l":S()}],"divide-color":[{divide:S()}],"outline-style":[{outline:[...M(),"none","hidden"]}],"outline-offset":[{"outline-offset":[R,A,I]}],"outline-w":[{outline:["",R,ve,ue]}],"outline-color":[{outline:[n]}],shadow:[{shadow:["","none",f,Mr,wr]}],"shadow-color":[{shadow:S()}],"inset-shadow":[{"inset-shadow":["none",A,I,p]}],"inset-shadow-color":[{"inset-shadow":S()}],"ring-w":[{ring:B()}],"ring-w-inset":["ring-inset"],"ring-color":[{ring:S()}],"ring-offset-w":[{"ring-offset":[R,ue]}],"ring-offset-color":[{"ring-offset":S()}],"inset-ring-w":[{"inset-ring":B()}],"inset-ring-color":[{"inset-ring":S()}],opacity:[{opacity:[R,A,I]}],"mix-blend":[{"mix-blend":[...k(),"plus-darker","plus-lighter"]}],"bg-blend":[{"bg-blend":k()}],filter:[{filter:["","none",A,I]}],blur:[{blur:$()}],brightness:[{brightness:[R,A,I]}],contrast:[{contrast:[R,A,I]}],"drop-shadow":[{"drop-shadow":["","none",v,A,I]}],grayscale:[{grayscale:["",R,A,I]}],"hue-rotate":[{"hue-rotate":[R,A,I]}],invert:[{invert:["",R,A,I]}],saturate:[{saturate:[R,A,I]}],sepia:[{sepia:["",R,A,I]}],"backdrop-filter":[{"backdrop-filter":["","none",A,I]}],"backdrop-blur":[{"backdrop-blur":$()}],"backdrop-brightness":[{"backdrop-brightness":[R,A,I]}],"backdrop-contrast":[{"backdrop-contrast":[R,A,I]}],"backdrop-grayscale":[{"backdrop-grayscale":["",R,A,I]}],"backdrop-hue-rotate":[{"backdrop-hue-rotate":[R,A,I]}],"backdrop-invert":[{"backdrop-invert":["",R,A,I]}],"backdrop-opacity":[{"backdrop-opacity":[R,A,I]}],"backdrop-saturate":[{"backdrop-saturate":[R,A,I]}],"backdrop-sepia":[{"backdrop-sepia":["",R,A,I]}],"border-collapse":[{border:["collapse","separate"]}],"border-spacing":[{"border-spacing":T()}],"border-spacing-x":[{"border-spacing-x":T()}],"border-spacing-y":[{"border-spacing-y":T()}],"table-layout":[{table:["auto","fixed"]}],caption:[{caption:["top","bottom"]}],transition:[{transition:["","all","colors","opacity","shadow","transform","none",A,I]}],"transition-behavior":[{transition:["normal","discrete"]}],duration:[{duration:[R,"initial",A,I]}],ease:[{ease:["linear","initial",E,A,I]}],delay:[{delay:[R,A,I]}],animate:[{animate:["none",w,A,I]}],backface:[{backface:["hidden","visible"]}],perspective:[{perspective:[g,A,I]}],"perspective-origin":[{"perspective-origin":V()}],rotate:[{rotate:U()}],"rotate-x":[{"rotate-x":U()}],"rotate-y":[{"rotate-y":U()}],"rotate-z":[{"rotate-z":U()}],scale:[{scale:oe()}],"scale-x":[{"scale-x":oe()}],"scale-y":[{"scale-y":oe()}],"scale-z":[{"scale-z":oe()}],"scale-3d":["scale-3d"],skew:[{skew:ee()}],"skew-x":[{"skew-x":ee()}],"skew-y":[{"skew-y":ee()}],transform:[{transform:[A,I,"","none","gpu","cpu"]}],"transform-origin":[{origin:V()}],"transform-style":[{transform:["3d","flat"]}],translate:[{translate:Ie()}],"translate-x":[{"translate-x":Ie()}],"translate-y":[{"translate-y":Ie()}],"translate-z":[{"translate-z":Ie()}],"translate-none":["translate-none"],accent:[{accent:S()}],appearance:[{appearance:["none","auto"]}],"caret-color":[{caret:S()}],"color-scheme":[{scheme:["normal","dark","light","light-dark","only-dark","only-light"]}],cursor:[{cursor:["auto","default","pointer","wait","text","move","help","not-allowed","none","context-menu","progress","cell","crosshair","vertical-text","alias","copy","no-drop","grab","grabbing","all-scroll","col-resize","row-resize","n-resize","e-resize","s-resize","w-resize","ne-resize","nw-resize","se-resize","sw-resize","ew-resize","ns-resize","nesw-resize","nwse-resize","zoom-in","zoom-out",A,I]}],"field-sizing":[{"field-sizing":["fixed","content"]}],"pointer-events":[{"pointer-events":["auto","none"]}],resize:[{resize:["none","","y","x"]}],"scroll-behavior":[{scroll:["auto","smooth"]}],"scroll-m":[{"scroll-m":T()}],"scroll-mx":[{"scroll-mx":T()}],"scroll-my":[{"scroll-my":T()}],"scroll-ms":[{"scroll-ms":T()}],"scroll-me":[{"scroll-me":T()}],"scroll-mt":[{"scroll-mt":T()}],"scroll-mr":[{"scroll-mr":T()}],"scroll-mb":[{"scroll-mb":T()}],"scroll-ml":[{"scroll-ml":T()}],"scroll-p":[{"scroll-p":T()}],"scroll-px":[{"scroll-px":T()}],"scroll-py":[{"scroll-py":T()}],"scroll-ps":[{"scroll-ps":T()}],"scroll-pe":[{"scroll-pe":T()}],"scroll-pt":[{"scroll-pt":T()}],"scroll-pr":[{"scroll-pr":T()}],"scroll-pb":[{"scroll-pb":T()}],"scroll-pl":[{"scroll-pl":T()}],"snap-align":[{snap:["start","end","center","align-none"]}],"snap-stop":[{snap:["normal","always"]}],"snap-type":[{snap:["none","x","y","both"]}],"snap-strictness":[{snap:["mandatory","proximity"]}],touch:[{touch:["auto","none","manipulation"]}],"touch-x":[{"touch-pan":["x","left","right"]}],"touch-y":[{"touch-pan":["y","up","down"]}],"touch-pz":["touch-pinch-zoom"],select:[{select:["none","text","all","auto"]}],"will-change":[{"will-change":["auto","scroll","contents","transform",A,I]}],fill:[{fill:["none",...S()]}],"stroke-w":[{stroke:[R,ve,ue,qe]}],stroke:[{stroke:["none",...S()]}],"forced-color-adjust":[{"forced-color-adjust":["auto","none"]}]},conflictingClassGroups:{overflow:["overflow-x","overflow-y"],overscroll:["overscroll-x","overscroll-y"],inset:["inset-x","inset-y","start","end","top","right","bottom","left"],"inset-x":["right","left"],"inset-y":["top","bottom"],flex:["basis","grow","shrink"],gap:["gap-x","gap-y"],p:["px","py","ps","pe","pt","pr","pb","pl"],px:["pr","pl"],py:["pt","pb"],m:["mx","my","ms","me","mt","mr","mb","ml"],mx:["mr","ml"],my:["mt","mb"],size:["w","h"],"font-size":["leading"],"fvn-normal":["fvn-ordinal","fvn-slashed-zero","fvn-figure","fvn-spacing","fvn-fraction"],"fvn-ordinal":["fvn-normal"],"fvn-slashed-zero":["fvn-normal"],"fvn-figure":["fvn-normal"],"fvn-spacing":["fvn-normal"],"fvn-fraction":["fvn-normal"],"line-clamp":["display","overflow"],rounded:["rounded-s","rounded-e","rounded-t","rounded-r","rounded-b","rounded-l","rounded-ss","rounded-se","rounded-ee","rounded-es","rounded-tl","rounded-tr","rounded-br","rounded-bl"],"rounded-s":["rounded-ss","rounded-es"],"rounded-e":["rounded-se","rounded-ee"],"rounded-t":["rounded-tl","rounded-tr"],"rounded-r":["rounded-tr","rounded-br"],"rounded-b":["rounded-br","rounded-bl"],"rounded-l":["rounded-tl","rounded-bl"],"border-spacing":["border-spacing-x","border-spacing-y"],"border-w":["border-w-s","border-w-e","border-w-t","border-w-r","border-w-b","border-w-l"],"border-w-x":["border-w-r","border-w-l"],"border-w-y":["border-w-t","border-w-b"],"border-color":["border-color-s","border-color-e","border-color-t","border-color-r","border-color-b","border-color-l"],"border-color-x":["border-color-r","border-color-l"],"border-color-y":["border-color-t","border-color-b"],translate:["translate-x","translate-y","translate-none"],"translate-none":["translate","translate-x","translate-y","translate-z"],"scroll-m":["scroll-mx","scroll-my","scroll-ms","scroll-me","scroll-mt","scroll-mr","scroll-mb","scroll-ml"],"scroll-mx":["scroll-mr","scroll-ml"],"scroll-my":["scroll-mt","scroll-mb"],"scroll-p":["scroll-px","scroll-py","scroll-ps","scroll-pe","scroll-pt","scroll-pr","scroll-pb","scroll-pl"],"scroll-px":["scroll-pr","scroll-pl"],"scroll-py":["scroll-pt","scroll-pb"],touch:["touch-x","touch-y","touch-pz"],"touch-x":["touch"],"touch-y":["touch"],"touch-pz":["touch"]},conflictingClassGroupModifiers:{"font-size":["leading"]},orderSensitiveModifiers:["before","after","placeholder","file","marker","selection","first-line","first-letter","backdrop","*","**"]}},Vr=ar(Fr);function z(...n){return Vr(Mn(n))}const Lr=Wo,kn=y.forwardRef(({className:n,...t},e)=>m.jsx(In,{ref:e,className:z("inline-flex h-9 items-center justify-center rounded-lg bg-muted p-1 text-muted-foreground",n),...t}));kn.displayName=In.displayName;const Ye=y.forwardRef(({className:n,...t},e)=>m.jsx(An,{ref:e,className:z("inline-flex items-center justify-center whitespace-nowrap rounded-md px-3 py-1 text-sm font-medium ring-offset-background transition-all focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 data-[state=active]:bg-background data-[state=active]:text-foreground data-[state=active]:shadow",n),...t}));Ye.displayName=An.displayName;const We=y.forwardRef(({className:n,...t},e)=>m.jsx(_n,{ref:e,className:z("mt-2 ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2",n),...t}));We.displayName=_n.displayName;const Je=y.forwardRef(({className:n,...t},e)=>m.jsx("div",{ref:e,className:z("rounded-xl border bg-card text-card-foreground shadow",n),...t}));Je.displayName="Card";const Un=y.forwardRef(({className:n,...t},e)=>m.jsx("div",{ref:e,className:z("flex flex-col space-y-1.5 p-6",n),...t}));Un.displayName="CardHeader";const Gn=y.forwardRef(({className:n,...t},e)=>m.jsx("div",{ref:e,className:z("font-semibold leading-none tracking-tight",n),...t}));Gn.displayName="CardTitle";const qn=y.forwardRef(({className:n,...t},e)=>m.jsx("div",{ref:e,className:z("text-sm text-muted-foreground",n),...t}));qn.displayName="CardDescription";const Xe=y.forwardRef(({className:n,...t},e)=>m.jsx("div",{ref:e,className:z("p-6 pt-0",n),...t}));Xe.displayName="CardContent";const kr=y.forwardRef(({className:n,...t},e)=>m.jsx("div",{ref:e,className:z("flex items-center p-6 pt-0",n),...t}));kr.displayName="CardFooter";const dt=n=>typeof n=="boolean"?`${n}`:n===0?"0":n,ft=Mn,On=(n,t)=>e=>{var o;if((t==null?void 0:t.variants)==null)return ft(n,e==null?void 0:e.class,e==null?void 0:e.className);const{variants:r,defaultVariants:l}=t,a=Object.keys(r).map(d=>{const f=e==null?void 0:e[d],p=l==null?void 0:l[d];if(f===null)return null;const v=dt(f)||dt(p);return r[d][v]}),u=e&&Object.entries(e).reduce((d,f)=>{let[p,v]=f;return v===void 0||(d[p]=v),d},{}),c=t==null||(o=t.compoundVariants)===null||o===void 0?void 0:o.reduce((d,f)=>{let{class:p,className:v,...h}=f;return Object.entries(h).every(g=>{let[C,E]=g;return Array.isArray(E)?E.includes({...l,...u}[C]):{...l,...u}[C]===E})?[...d,p,v]:d},[]);return ft(n,a,c,e==null?void 0:e.class,e==null?void 0:e.className)},Ur=On("inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium transition-colors focus-visible:outline-none focus-visible:ring-1 focus-visible:ring-ring disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0",{variants:{variant:{default:"bg-primary text-primary-foreground shadow hover:bg-primary/90",destructive:"bg-destructive text-destructive-foreground shadow-sm hover:bg-destructive/90",outline:"border border-input bg-background shadow-sm hover:bg-accent hover:text-accent-foreground",secondary:"bg-secondary text-secondary-foreground shadow-sm hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-9 px-4 py-2",sm:"h-8 rounded-md px-3 text-xs",lg:"h-10 rounded-md px-8",icon:"h-9 w-9"}},defaultVariants:{variant:"default",size:"default"}}),Bn=y.forwardRef(({className:n,variant:t,size:e,asChild:o=!1,...r},l)=>{const a=o?Ce:"button";return m.jsx(a,{className:z(Ur({variant:t,size:e,className:n})),ref:l,...r})});Bn.displayName="Button";const $n=y.forwardRef(({className:n,type:t,...e},o)=>m.jsx("input",{type:t,className:z("flex h-9 w-full rounded-md border border-input bg-transparent px-3 py-1 text-base shadow-sm transition-colors file:border-0 file:bg-transparent file:text-sm file:font-medium file:text-foreground placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-1 focus-visible:ring-ring disabled:cursor-not-allowed disabled:opacity-50 md:text-sm",n),ref:o,...e}));$n.displayName="Input";var rt="Avatar",[Gr,Ga]=Ve(rt),[qr,Hn]=Gr(rt),zn=y.forwardRef((n,t)=>{const{__scopeAvatar:e,...o}=n,[r,l]=y.useState("idle");return m.jsx(qr,{scope:e,imageLoadingStatus:r,onImageLoadingStatusChange:l,children:m.jsx(ne.span,{...o,ref:t})})});zn.displayName=rt;var Kn="AvatarImage",Yn=y.forwardRef((n,t)=>{const{__scopeAvatar:e,src:o,onLoadingStatusChange:r=()=>{},...l}=n,a=Hn(Kn,e),u=Or(o,l.referrerPolicy),c=Le(d=>{r(d),a.onImageLoadingStatusChange(d)});return xe(()=>{u!=="idle"&&c(u)},[u,c]),u==="loaded"?m.jsx(ne.img,{...l,ref:t,src:o}):null});Yn.displayName=Kn;var Wn="AvatarFallback",Jn=y.forwardRef((n,t)=>{const{__scopeAvatar:e,delayMs:o,...r}=n,l=Hn(Wn,e),[a,u]=y.useState(o===void 0);return y.useEffect(()=>{if(o!==void 0){const c=window.setTimeout(()=>u(!0),o);return()=>window.clearTimeout(c)}},[o]),a&&l.imageLoadingStatus!=="loaded"?m.jsx(ne.span,{...r,ref:t}):null});Jn.displayName=Wn;function Or(n,t){const[e,o]=y.useState("idle");return xe(()=>{if(!n){o("error");return}let r=!0;const l=new window.Image,a=u=>()=>{r&&o(u)};return o("loading"),l.onload=a("loaded"),l.onerror=a("error"),l.src=n,t&&(l.referrerPolicy=t),()=>{r=!1}},[n,t]),e}var Xn=zn,Qn=Yn,Zn=Jn;const Qe=y.forwardRef(({className:n,...t},e)=>m.jsx(Xn,{ref:e,className:z("relative flex h-10 w-10 shrink-0 overflow-hidden rounded-full",n),...t}));Qe.displayName=Xn.displayName;const Br=y.forwardRef(({className:n,...t},e)=>m.jsx(Qn,{ref:e,className:z("aspect-square h-full w-full",n),...t}));Br.displayName=Qn.displayName;const $r=y.forwardRef(({className:n,...t},e)=>m.jsx(Zn,{ref:e,className:z("flex h-full w-full items-center justify-center rounded-full bg-muted",n),...t}));$r.displayName=Zn.displayName;/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Hr=n=>n.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),zr=n=>n.replace(/^([A-Z])|[\s-_]+(\w)/g,(t,e,o)=>o?o.toUpperCase():e.toLowerCase()),pt=n=>{const t=zr(n);return t.charAt(0).toUpperCase()+t.slice(1)},jn=(...n)=>n.filter((t,e,o)=>!!t&&t.trim()!==""&&o.indexOf(t)===e).join(" ").trim();/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var Kr={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Yr=y.forwardRef(({color:n="currentColor",size:t=24,strokeWidth:e=2,absoluteStrokeWidth:o,className:r="",children:l,iconNode:a,...u},c)=>y.createElement("svg",{ref:c,...Kr,width:t,height:t,stroke:n,strokeWidth:o?Number(e)*24/Number(t):e,className:jn("lucide",r),...u},[...a.map(([d,f])=>y.createElement(d,f)),...Array.isArray(l)?l:[l]]));/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Te=(n,t)=>{const e=y.forwardRef(({className:o,...r},l)=>y.createElement(Yr,{ref:l,iconNode:t,className:jn(`lucide-${Hr(pt(n))}`,`lucide-${n}`,o),...r}));return e.displayName=pt(n),e};/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Wr=[["path",{d:"M10.268 21a2 2 0 0 0 3.464 0",key:"vwvbt9"}],["path",{d:"M3.262 15.326A1 1 0 0 0 4 17h16a1 1 0 0 0 .74-1.673C19.41 13.956 18 12.499 18 8A6 6 0 0 0 6 8c0 4.499-1.411 5.956-2.738 7.326",key:"11g9vi"}]],Jr=Te("bell",Wr);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Xr=[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]],Pe=Te("lock",Xr);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Qr=[["path",{d:"M14.536 21.686a.5.5 0 0 0 .937-.024l6.5-19a.496.496 0 0 0-.635-.635l-19 6.5a.5.5 0 0 0-.024.937l7.93 3.18a2 2 0 0 1 1.112 1.11z",key:"1ffxy3"}],["path",{d:"m21.854 2.147-10.94 10.939",key:"12cjpa"}]],Zr=Te("send",Qr);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jr=[["path",{d:"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z",key:"1qme2f"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],ei=Te("settings",jr);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ti=[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]],ni=Te("user",ti);/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class Ue{}function P(n,t){const e=/\{([^}]+)\}/g;return n.replace(e,(o,r)=>{if(Object.prototype.hasOwnProperty.call(t,r)){const l=t[r];return l!=null?String(l):""}else throw new Error(`Key '${r}' not found in valueMap.`)})}function i(n,t,e){for(let l=0;l<t.length-1;l++){const a=t[l];if(a.endsWith("[]")){const u=a.slice(0,-2);if(!(u in n))if(Array.isArray(e))n[u]=Array.from({length:e.length},()=>({}));else throw new Error(`Value must be a list given an array path ${a}`);if(Array.isArray(n[u])){const c=n[u];if(Array.isArray(e))for(let d=0;d<c.length;d++){const f=c[d];i(f,t.slice(l+1),e[d])}else for(const d of c)i(d,t.slice(l+1),e)}return}else if(a.endsWith("[0]")){const u=a.slice(0,-3);u in n||(n[u]=[{}]);const c=n[u];i(c[0],t.slice(l+1),e);return}(!n[a]||typeof n[a]!="object")&&(n[a]={}),n=n[a]}const o=t[t.length-1],r=n[o];if(r!==void 0){if(!e||typeof e=="object"&&Object.keys(e).length===0||e===r)return;if(typeof r=="object"&&typeof e=="object"&&r!==null&&e!==null)Object.assign(r,e);else throw new Error(`Cannot set value for an existing key. Key: ${o}`)}else n[o]=e}function s(n,t){try{if(t.length===1&&t[0]==="_self")return n;for(let e=0;e<t.length;e++){if(typeof n!="object"||n===null)return;const o=t[e];if(o.endsWith("[]")){const r=o.slice(0,-2);if(r in n){const l=n[r];return Array.isArray(l)?l.map(a=>s(a,t.slice(e+1))):void 0}else return}else n=n[o]}return n}catch(e){if(e instanceof TypeError)return;throw e}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function Y(n,t){if(!t||typeof t!="string")throw new Error("model is required and must be a string");if(n.isVertexAI()){if(t.startsWith("publishers/")||t.startsWith("projects/")||t.startsWith("models/"))return t;if(t.indexOf("/")>=0){const e=t.split("/",2);return`publishers/${e[0]}/models/${e[1]}`}else return`publishers/google/models/${t}`}else return t.startsWith("models/")||t.startsWith("tunedModels/")?t:`models/${t}`}function eo(n,t){const e=Y(n,t);return e?e.startsWith("publishers/")&&n.isVertexAI()?`projects/${n.getProject()}/locations/${n.getLocation()}/${e}`:e.startsWith("models/")&&n.isVertexAI()?`projects/${n.getProject()}/locations/${n.getLocation()}/publishers/google/${e}`:e:""}function mt(n,t){if(t==null)throw new Error("PartUnion is required");if(typeof t=="object")return t;if(typeof t=="string")return{text:t};throw new Error(`Unsupported part type: ${typeof t}`)}function Ee(n,t){if(t==null||Array.isArray(t)&&t.length===0)throw new Error("PartListUnion is required");return Array.isArray(t)?t.map(e=>mt(n,e)):[mt(n,t)]}function to(n){return n!=null&&typeof n=="object"&&"parts"in n&&Array.isArray(n.parts)}function oi(n){return n!=null&&typeof n=="object"&&"functionCall"in n}function it(n){return!(n==null||oi(n))}function no(n){return n==null||Array.isArray(n)&&n.length===0?!1:n.every(it)}function Z(n,t){if(t==null)throw new Error("ContentUnion is required");return to(t)?t:it(t)?{role:"user",parts:Ee(n,t)}:{role:"model",parts:Ee(n,t)}}function oo(n,t){if(!t)return[];if(n.isVertexAI()&&Array.isArray(t))return t.flatMap(e=>{const o=Z(n,e);return o.parts&&o.parts.length>0&&o.parts[0].text!==void 0?[o.parts[0].text]:[]});if(n.isVertexAI()){const e=Z(n,t);return e.parts&&e.parts.length>0&&e.parts[0].text!==void 0?[e.parts[0].text]:[]}return Array.isArray(t)?t.map(e=>Z(n,e)):[Z(n,t)]}function Se(n,t,e){e.length!==0&&(no(e)?t.push({role:"user",parts:Ee(n,e)}):t.push({role:"model",parts:Ee(n,e)}),e.length=0)}function ri(n,t,e,o){it(o)===no(e)||(Se(n,t,e),e.length=0),e.push(o)}function L(n,t){if(t==null||Array.isArray(t)&&t.length===0)throw new Error("contents are required");if(!Array.isArray(t))return[Z(n,t)];const e=[],o=[];for(const r of t)if(to(r))Se(n,e,o),e.push(r);else if(typeof r=="string"||typeof r=="object"&&!Array.isArray(r))ri(n,e,o,r);else if(Array.isArray(r))Se(n,e,o),e.push({role:"user",parts:Ee(n,r)});else throw new Error(`Unsupported content type: ${typeof r}`);return Se(n,e,o),e}function Me(n,t){if(!n.isVertexAI()&&"default"in t)throw new Error("Default value is not supported in the response schema for the Gemini API.");if("anyOf"in t&&t.anyOf!==void 0)for(const e of t.anyOf)Me(n,e);if("items"in t&&t.items!==void 0&&Me(n,t.items),"properties"in t&&t.properties!==void 0)for(const e of Object.values(t.properties))Me(n,e)}function ro(n,t){return Me(n,t),t}function io(n,t){if(typeof t=="object"&&"voiceConfig"in t)return t;if(typeof t=="string")return{voiceConfig:{prebuiltVoiceConfig:{voiceName:t}}};throw new Error(`Unsupported speechConfig type: ${typeof t}`)}function so(n,t){return t}function he(n,t){if(!Array.isArray(t))throw new Error("tool is required and must be an array of Tools");return t}function ii(n,t,e,o=1){const r=!t.startsWith(`${e}/`)&&t.split("/").length===o;return n.isVertexAI()?t.startsWith("projects/")?t:t.startsWith("locations/")?`projects/${n.getProject()}/${t}`:t.startsWith(`${e}/`)?`projects/${n.getProject()}/locations/${n.getLocation()}/${t}`:r?`projects/${n.getProject()}/locations/${n.getLocation()}/${e}/${t}`:t:r?`${e}/${t}`:t}function le(n,t){if(typeof t!="string")throw new Error("name must be a string");return ii(n,t,"cachedContents")}function ae(n,t){if(typeof t!="string")throw new Error("fromImageBytes must be a string");return t}function lo(n,t){if(typeof t!="string")throw new Error("fromName must be a string");return t.startsWith("files/")?t.split("files/")[1]:t}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function si(n,t){const e={};if(s(t,["videoMetadata"])!==void 0)throw new Error("videoMetadata parameter is not supported in Gemini API.");const o=s(t,["thought"]);o!=null&&i(e,["thought"],o);const r=s(t,["codeExecutionResult"]);r!=null&&i(e,["codeExecutionResult"],r);const l=s(t,["executableCode"]);l!=null&&i(e,["executableCode"],l);const a=s(t,["fileData"]);a!=null&&i(e,["fileData"],a);const u=s(t,["functionCall"]);u!=null&&i(e,["functionCall"],u);const c=s(t,["functionResponse"]);c!=null&&i(e,["functionResponse"],c);const d=s(t,["inlineData"]);d!=null&&i(e,["inlineData"],d);const f=s(t,["text"]);return f!=null&&i(e,["text"],f),e}function ht(n,t){const e={},o=s(t,["parts"]);o!=null&&(Array.isArray(o)?i(e,["parts"],o.map(l=>si(n,l))):i(e,["parts"],o));const r=s(t,["role"]);return r!=null&&i(e,["role"],r),e}function li(n,t){const e={};if(s(t,["response"])!==void 0)throw new Error("response parameter is not supported in Gemini API.");const o=s(t,["description"]);o!=null&&i(e,["description"],o);const r=s(t,["name"]);r!=null&&i(e,["name"],r);const l=s(t,["parameters"]);return l!=null&&i(e,["parameters"],l),e}function ai(){return{}}function ui(n,t){const e={},o=s(t,["mode"]);o!=null&&i(e,["mode"],o);const r=s(t,["dynamicThreshold"]);return r!=null&&i(e,["dynamicThreshold"],r),e}function ci(n,t){const e={},o=s(t,["dynamicRetrievalConfig"]);return o!=null&&i(e,["dynamicRetrievalConfig"],ui(n,o)),e}function di(n,t){const e={},o=s(t,["functionDeclarations"]);if(o!=null&&(Array.isArray(o)?i(e,["functionDeclarations"],o.map(u=>li(n,u))):i(e,["functionDeclarations"],o)),s(t,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");s(t,["googleSearch"])!=null&&i(e,["googleSearch"],ai());const l=s(t,["googleSearchRetrieval"]);l!=null&&i(e,["googleSearchRetrieval"],ci(n,l));const a=s(t,["codeExecution"]);return a!=null&&i(e,["codeExecution"],a),e}function fi(n,t){const e={},o=s(t,["mode"]);o!=null&&i(e,["mode"],o);const r=s(t,["allowedFunctionNames"]);return r!=null&&i(e,["allowedFunctionNames"],r),e}function pi(n,t){const e={},o=s(t,["functionCallingConfig"]);return o!=null&&i(e,["functionCallingConfig"],fi(n,o)),e}function mi(n,t,e){const o={},r=s(t,["ttl"]);e!==void 0&&r!=null&&i(e,["ttl"],r);const l=s(t,["expireTime"]);e!==void 0&&l!=null&&i(e,["expireTime"],l);const a=s(t,["displayName"]);e!==void 0&&a!=null&&i(e,["displayName"],a);const u=s(t,["contents"]);e!==void 0&&u!=null&&(Array.isArray(u)?i(e,["contents"],L(n,L(n,u).map(p=>ht(n,p)))):i(e,["contents"],L(n,u)));const c=s(t,["systemInstruction"]);e!==void 0&&c!=null&&i(e,["systemInstruction"],ht(n,Z(n,c)));const d=s(t,["tools"]);e!==void 0&&d!=null&&(Array.isArray(d)?i(e,["tools"],d.map(p=>di(n,p))):i(e,["tools"],d));const f=s(t,["toolConfig"]);return e!==void 0&&f!=null&&i(e,["toolConfig"],pi(n,f)),o}function hi(n,t){const e={},o=s(t,["model"]);o!=null&&i(e,["model"],eo(n,o));const r=s(t,["config"]);return r!=null&&i(e,["config"],mi(n,r,e)),e}function gi(n,t){const e={},o=s(t,["name"]);o!=null&&i(e,["_url","name"],le(n,o));const r=s(t,["config"]);return r!=null&&i(e,["config"],r),e}function yi(n,t){const e={},o=s(t,["name"]);o!=null&&i(e,["_url","name"],le(n,o));const r=s(t,["config"]);return r!=null&&i(e,["config"],r),e}function vi(n,t,e){const o={},r=s(t,["ttl"]);e!==void 0&&r!=null&&i(e,["ttl"],r);const l=s(t,["expireTime"]);return e!==void 0&&l!=null&&i(e,["expireTime"],l),o}function Ci(n,t){const e={},o=s(t,["name"]);o!=null&&i(e,["_url","name"],le(n,o));const r=s(t,["config"]);return r!=null&&i(e,["config"],vi(n,r,e)),e}function xi(n,t,e){const o={},r=s(t,["pageSize"]);e!==void 0&&r!=null&&i(e,["_query","pageSize"],r);const l=s(t,["pageToken"]);return e!==void 0&&l!=null&&i(e,["_query","pageToken"],l),o}function Ei(n,t){const e={},o=s(t,["config"]);return o!=null&&i(e,["config"],xi(n,o,e)),e}function Ti(n,t){const e={},o=s(t,["videoMetadata"]);o!=null&&i(e,["videoMetadata"],o);const r=s(t,["thought"]);r!=null&&i(e,["thought"],r);const l=s(t,["codeExecutionResult"]);l!=null&&i(e,["codeExecutionResult"],l);const a=s(t,["executableCode"]);a!=null&&i(e,["executableCode"],a);const u=s(t,["fileData"]);u!=null&&i(e,["fileData"],u);const c=s(t,["functionCall"]);c!=null&&i(e,["functionCall"],c);const d=s(t,["functionResponse"]);d!=null&&i(e,["functionResponse"],d);const f=s(t,["inlineData"]);f!=null&&i(e,["inlineData"],f);const p=s(t,["text"]);return p!=null&&i(e,["text"],p),e}function gt(n,t){const e={},o=s(t,["parts"]);o!=null&&(Array.isArray(o)?i(e,["parts"],o.map(l=>Ti(n,l))):i(e,["parts"],o));const r=s(t,["role"]);return r!=null&&i(e,["role"],r),e}function wi(n,t){const e={},o=s(t,["example"]);o!=null&&i(e,["example"],o);const r=s(t,["pattern"]);r!=null&&i(e,["pattern"],r);const l=s(t,["default"]);l!=null&&i(e,["default"],l);const a=s(t,["maxLength"]);a!=null&&i(e,["maxLength"],a);const u=s(t,["minLength"]);u!=null&&i(e,["minLength"],u);const c=s(t,["minProperties"]);c!=null&&i(e,["minProperties"],c);const d=s(t,["maxProperties"]);d!=null&&i(e,["maxProperties"],d);const f=s(t,["anyOf"]);f!=null&&i(e,["anyOf"],f);const p=s(t,["description"]);p!=null&&i(e,["description"],p);const v=s(t,["enum"]);v!=null&&i(e,["enum"],v);const h=s(t,["format"]);h!=null&&i(e,["format"],h);const g=s(t,["items"]);g!=null&&i(e,["items"],g);const C=s(t,["maxItems"]);C!=null&&i(e,["maxItems"],C);const E=s(t,["maximum"]);E!=null&&i(e,["maximum"],E);const w=s(t,["minItems"]);w!=null&&i(e,["minItems"],w);const x=s(t,["minimum"]);x!=null&&i(e,["minimum"],x);const _=s(t,["nullable"]);_!=null&&i(e,["nullable"],_);const N=s(t,["properties"]);N!=null&&i(e,["properties"],N);const F=s(t,["propertyOrdering"]);F!=null&&i(e,["propertyOrdering"],F);const T=s(t,["required"]);T!=null&&i(e,["required"],T);const b=s(t,["title"]);b!=null&&i(e,["title"],b);const D=s(t,["type"]);return D!=null&&i(e,["type"],D),e}function Ii(n,t){const e={},o=s(t,["response"]);o!=null&&i(e,["response"],wi(n,o));const r=s(t,["description"]);r!=null&&i(e,["description"],r);const l=s(t,["name"]);l!=null&&i(e,["name"],l);const a=s(t,["parameters"]);return a!=null&&i(e,["parameters"],a),e}function Ai(){return{}}function _i(n,t){const e={},o=s(t,["mode"]);o!=null&&i(e,["mode"],o);const r=s(t,["dynamicThreshold"]);return r!=null&&i(e,["dynamicThreshold"],r),e}function Si(n,t){const e={},o=s(t,["dynamicRetrievalConfig"]);return o!=null&&i(e,["dynamicRetrievalConfig"],_i(n,o)),e}function Mi(n,t){const e={},o=s(t,["functionDeclarations"]);o!=null&&(Array.isArray(o)?i(e,["functionDeclarations"],o.map(c=>Ii(n,c))):i(e,["functionDeclarations"],o));const r=s(t,["retrieval"]);r!=null&&i(e,["retrieval"],r),s(t,["googleSearch"])!=null&&i(e,["googleSearch"],Ai());const a=s(t,["googleSearchRetrieval"]);a!=null&&i(e,["googleSearchRetrieval"],Si(n,a));const u=s(t,["codeExecution"]);return u!=null&&i(e,["codeExecution"],u),e}function Ri(n,t){const e={},o=s(t,["mode"]);o!=null&&i(e,["mode"],o);const r=s(t,["allowedFunctionNames"]);return r!=null&&i(e,["allowedFunctionNames"],r),e}function bi(n,t){const e={},o=s(t,["functionCallingConfig"]);return o!=null&&i(e,["functionCallingConfig"],Ri(n,o)),e}function Ni(n,t,e){const o={},r=s(t,["ttl"]);e!==void 0&&r!=null&&i(e,["ttl"],r);const l=s(t,["expireTime"]);e!==void 0&&l!=null&&i(e,["expireTime"],l);const a=s(t,["displayName"]);e!==void 0&&a!=null&&i(e,["displayName"],a);const u=s(t,["contents"]);e!==void 0&&u!=null&&(Array.isArray(u)?i(e,["contents"],L(n,L(n,u).map(p=>gt(n,p)))):i(e,["contents"],L(n,u)));const c=s(t,["systemInstruction"]);e!==void 0&&c!=null&&i(e,["systemInstruction"],gt(n,Z(n,c)));const d=s(t,["tools"]);e!==void 0&&d!=null&&(Array.isArray(d)?i(e,["tools"],d.map(p=>Mi(n,p))):i(e,["tools"],d));const f=s(t,["toolConfig"]);return e!==void 0&&f!=null&&i(e,["toolConfig"],bi(n,f)),o}function Pi(n,t){const e={},o=s(t,["model"]);o!=null&&i(e,["model"],eo(n,o));const r=s(t,["config"]);return r!=null&&i(e,["config"],Ni(n,r,e)),e}function Di(n,t){const e={},o=s(t,["name"]);o!=null&&i(e,["_url","name"],le(n,o));const r=s(t,["config"]);return r!=null&&i(e,["config"],r),e}function Fi(n,t){const e={},o=s(t,["name"]);o!=null&&i(e,["_url","name"],le(n,o));const r=s(t,["config"]);return r!=null&&i(e,["config"],r),e}function Vi(n,t,e){const o={},r=s(t,["ttl"]);e!==void 0&&r!=null&&i(e,["ttl"],r);const l=s(t,["expireTime"]);return e!==void 0&&l!=null&&i(e,["expireTime"],l),o}function Li(n,t){const e={},o=s(t,["name"]);o!=null&&i(e,["_url","name"],le(n,o));const r=s(t,["config"]);return r!=null&&i(e,["config"],Vi(n,r,e)),e}function ki(n,t,e){const o={},r=s(t,["pageSize"]);e!==void 0&&r!=null&&i(e,["_query","pageSize"],r);const l=s(t,["pageToken"]);return e!==void 0&&l!=null&&i(e,["_query","pageToken"],l),o}function Ui(n,t){const e={},o=s(t,["config"]);return o!=null&&i(e,["config"],ki(n,o,e)),e}function Re(n,t){const e={},o=s(t,["name"]);o!=null&&i(e,["name"],o);const r=s(t,["displayName"]);r!=null&&i(e,["displayName"],r);const l=s(t,["model"]);l!=null&&i(e,["model"],l);const a=s(t,["createTime"]);a!=null&&i(e,["createTime"],a);const u=s(t,["updateTime"]);u!=null&&i(e,["updateTime"],u);const c=s(t,["expireTime"]);c!=null&&i(e,["expireTime"],c);const d=s(t,["usageMetadata"]);return d!=null&&i(e,["usageMetadata"],d),e}function Gi(){return{}}function qi(n,t){const e={},o=s(t,["nextPageToken"]);o!=null&&i(e,["nextPageToken"],o);const r=s(t,["cachedContents"]);return r!=null&&(Array.isArray(r)?i(e,["cachedContents"],r.map(l=>Re(n,l))):i(e,["cachedContents"],r)),e}function be(n,t){const e={},o=s(t,["name"]);o!=null&&i(e,["name"],o);const r=s(t,["displayName"]);r!=null&&i(e,["displayName"],r);const l=s(t,["model"]);l!=null&&i(e,["model"],l);const a=s(t,["createTime"]);a!=null&&i(e,["createTime"],a);const u=s(t,["updateTime"]);u!=null&&i(e,["updateTime"],u);const c=s(t,["expireTime"]);c!=null&&i(e,["expireTime"],c);const d=s(t,["usageMetadata"]);return d!=null&&i(e,["usageMetadata"],d),e}function Oi(){return{}}function Bi(n,t){const e={},o=s(t,["nextPageToken"]);o!=null&&i(e,["nextPageToken"],o);const r=s(t,["cachedContents"]);return r!=null&&(Array.isArray(r)?i(e,["cachedContents"],r.map(l=>be(n,l))):i(e,["cachedContents"],r)),e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */var De;(function(n){n.PAGED_ITEM_BATCH_JOBS="batchJobs",n.PAGED_ITEM_MODELS="models",n.PAGED_ITEM_TUNING_JOBS="tuningJobs",n.PAGED_ITEM_FILES="files",n.PAGED_ITEM_CACHED_CONTENTS="cachedContents"})(De||(De={}));class ao{constructor(t,e,o,r){this.pageInternal=[],this.paramsInternal={},this.requestInternal=e,this.init(t,o,r)}init(t,e,o){var r,l;this.nameInternal=t,this.pageInternal=e[this.nameInternal]||[],this.idxInternal=0;let a={config:{}};o?typeof o=="object"?a=Object.assign({},o):a=o:a={config:{}},a.config&&(a.config.pageToken=e.nextPageToken),this.paramsInternal=a,this.pageInternalSize=(l=(r=a.config)===null||r===void 0?void 0:r.pageSize)!==null&&l!==void 0?l:this.pageInternal.length}initNextPage(t){this.init(this.nameInternal,t,this.paramsInternal)}get page(){return this.pageInternal}get name(){return this.nameInternal}get pageSize(){return this.pageInternalSize}get params(){return this.paramsInternal}get pageLength(){return this.pageInternal.length}getItem(t){return this.pageInternal[t]}[Symbol.asyncIterator](){return{next:async()=>{if(this.idxInternal>=this.pageLength)if(this.hasNextPage())await this.nextPage();else return{value:void 0,done:!0};const t=this.getItem(this.idxInternal);return this.idxInternal+=1,{value:t,done:!1}},return:async()=>({value:void 0,done:!0})}}async nextPage(){if(!this.hasNextPage())throw new Error("No more pages to fetch.");const t=await this.requestInternal(this.params);return this.initNextPage(t),this.page}hasNextPage(){var t;return((t=this.params.config)===null||t===void 0?void 0:t.pageToken)!==void 0}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */var yt;(function(n){n.OUTCOME_UNSPECIFIED="OUTCOME_UNSPECIFIED",n.OUTCOME_OK="OUTCOME_OK",n.OUTCOME_FAILED="OUTCOME_FAILED",n.OUTCOME_DEADLINE_EXCEEDED="OUTCOME_DEADLINE_EXCEEDED"})(yt||(yt={}));var vt;(function(n){n.LANGUAGE_UNSPECIFIED="LANGUAGE_UNSPECIFIED",n.PYTHON="PYTHON"})(vt||(vt={}));var Ct;(function(n){n.TYPE_UNSPECIFIED="TYPE_UNSPECIFIED",n.STRING="STRING",n.NUMBER="NUMBER",n.INTEGER="INTEGER",n.BOOLEAN="BOOLEAN",n.ARRAY="ARRAY",n.OBJECT="OBJECT"})(Ct||(Ct={}));var pe;(function(n){n.HARM_CATEGORY_UNSPECIFIED="HARM_CATEGORY_UNSPECIFIED",n.HARM_CATEGORY_HATE_SPEECH="HARM_CATEGORY_HATE_SPEECH",n.HARM_CATEGORY_DANGEROUS_CONTENT="HARM_CATEGORY_DANGEROUS_CONTENT",n.HARM_CATEGORY_HARASSMENT="HARM_CATEGORY_HARASSMENT",n.HARM_CATEGORY_SEXUALLY_EXPLICIT="HARM_CATEGORY_SEXUALLY_EXPLICIT",n.HARM_CATEGORY_CIVIC_INTEGRITY="HARM_CATEGORY_CIVIC_INTEGRITY"})(pe||(pe={}));var xt;(function(n){n.HARM_BLOCK_METHOD_UNSPECIFIED="HARM_BLOCK_METHOD_UNSPECIFIED",n.SEVERITY="SEVERITY",n.PROBABILITY="PROBABILITY"})(xt||(xt={}));var me;(function(n){n.HARM_BLOCK_THRESHOLD_UNSPECIFIED="HARM_BLOCK_THRESHOLD_UNSPECIFIED",n.BLOCK_LOW_AND_ABOVE="BLOCK_LOW_AND_ABOVE",n.BLOCK_MEDIUM_AND_ABOVE="BLOCK_MEDIUM_AND_ABOVE",n.BLOCK_ONLY_HIGH="BLOCK_ONLY_HIGH",n.BLOCK_NONE="BLOCK_NONE",n.OFF="OFF"})(me||(me={}));var Et;(function(n){n.MODE_UNSPECIFIED="MODE_UNSPECIFIED",n.MODE_DYNAMIC="MODE_DYNAMIC"})(Et||(Et={}));var Tt;(function(n){n.FINISH_REASON_UNSPECIFIED="FINISH_REASON_UNSPECIFIED",n.STOP="STOP",n.MAX_TOKENS="MAX_TOKENS",n.SAFETY="SAFETY",n.RECITATION="RECITATION",n.OTHER="OTHER",n.BLOCKLIST="BLOCKLIST",n.PROHIBITED_CONTENT="PROHIBITED_CONTENT",n.SPII="SPII",n.MALFORMED_FUNCTION_CALL="MALFORMED_FUNCTION_CALL",n.IMAGE_SAFETY="IMAGE_SAFETY"})(Tt||(Tt={}));var wt;(function(n){n.HARM_PROBABILITY_UNSPECIFIED="HARM_PROBABILITY_UNSPECIFIED",n.NEGLIGIBLE="NEGLIGIBLE",n.LOW="LOW",n.MEDIUM="MEDIUM",n.HIGH="HIGH"})(wt||(wt={}));var It;(function(n){n.HARM_SEVERITY_UNSPECIFIED="HARM_SEVERITY_UNSPECIFIED",n.HARM_SEVERITY_NEGLIGIBLE="HARM_SEVERITY_NEGLIGIBLE",n.HARM_SEVERITY_LOW="HARM_SEVERITY_LOW",n.HARM_SEVERITY_MEDIUM="HARM_SEVERITY_MEDIUM",n.HARM_SEVERITY_HIGH="HARM_SEVERITY_HIGH"})(It||(It={}));var At;(function(n){n.BLOCKED_REASON_UNSPECIFIED="BLOCKED_REASON_UNSPECIFIED",n.SAFETY="SAFETY",n.OTHER="OTHER",n.BLOCKLIST="BLOCKLIST",n.PROHIBITED_CONTENT="PROHIBITED_CONTENT"})(At||(At={}));var _t;(function(n){n.MODALITY_UNSPECIFIED="MODALITY_UNSPECIFIED",n.TEXT="TEXT",n.IMAGE="IMAGE",n.AUDIO="AUDIO"})(_t||(_t={}));var St;(function(n){n.STATE_UNSPECIFIED="STATE_UNSPECIFIED",n.ACTIVE="ACTIVE",n.ERROR="ERROR"})(St||(St={}));var Mt;(function(n){n.MODE_UNSPECIFIED="MODE_UNSPECIFIED",n.MODE_DYNAMIC="MODE_DYNAMIC"})(Mt||(Mt={}));var Rt;(function(n){n.MODE_UNSPECIFIED="MODE_UNSPECIFIED",n.AUTO="AUTO",n.ANY="ANY",n.NONE="NONE"})(Rt||(Rt={}));var bt;(function(n){n.MEDIA_RESOLUTION_UNSPECIFIED="MEDIA_RESOLUTION_UNSPECIFIED",n.MEDIA_RESOLUTION_LOW="MEDIA_RESOLUTION_LOW",n.MEDIA_RESOLUTION_MEDIUM="MEDIA_RESOLUTION_MEDIUM",n.MEDIA_RESOLUTION_HIGH="MEDIA_RESOLUTION_HIGH"})(bt||(bt={}));var Nt;(function(n){n.BLOCK_LOW_AND_ABOVE="BLOCK_LOW_AND_ABOVE",n.BLOCK_MEDIUM_AND_ABOVE="BLOCK_MEDIUM_AND_ABOVE",n.BLOCK_ONLY_HIGH="BLOCK_ONLY_HIGH",n.BLOCK_NONE="BLOCK_NONE"})(Nt||(Nt={}));var Pt;(function(n){n.DONT_ALLOW="DONT_ALLOW",n.ALLOW_ADULT="ALLOW_ADULT",n.ALLOW_ALL="ALLOW_ALL"})(Pt||(Pt={}));var Dt;(function(n){n.auto="auto",n.en="en",n.ja="ja",n.ko="ko",n.hi="hi"})(Dt||(Dt={}));var Ft;(function(n){n.STATE_UNSPECIFIED="STATE_UNSPECIFIED",n.PROCESSING="PROCESSING",n.ACTIVE="ACTIVE",n.FAILED="FAILED"})(Ft||(Ft={}));var Vt;(function(n){n.SOURCE_UNSPECIFIED="SOURCE_UNSPECIFIED",n.UPLOADED="UPLOADED",n.GENERATED="GENERATED"})(Vt||(Vt={}));var Lt;(function(n){n.MASK_MODE_DEFAULT="MASK_MODE_DEFAULT",n.MASK_MODE_USER_PROVIDED="MASK_MODE_USER_PROVIDED",n.MASK_MODE_BACKGROUND="MASK_MODE_BACKGROUND",n.MASK_MODE_FOREGROUND="MASK_MODE_FOREGROUND",n.MASK_MODE_SEMANTIC="MASK_MODE_SEMANTIC"})(Lt||(Lt={}));var kt;(function(n){n.CONTROL_TYPE_DEFAULT="CONTROL_TYPE_DEFAULT",n.CONTROL_TYPE_CANNY="CONTROL_TYPE_CANNY",n.CONTROL_TYPE_SCRIBBLE="CONTROL_TYPE_SCRIBBLE",n.CONTROL_TYPE_FACE_MESH="CONTROL_TYPE_FACE_MESH"})(kt||(kt={}));var Ut;(function(n){n.SUBJECT_TYPE_DEFAULT="SUBJECT_TYPE_DEFAULT",n.SUBJECT_TYPE_PERSON="SUBJECT_TYPE_PERSON",n.SUBJECT_TYPE_ANIMAL="SUBJECT_TYPE_ANIMAL",n.SUBJECT_TYPE_PRODUCT="SUBJECT_TYPE_PRODUCT"})(Ut||(Ut={}));var Gt;(function(n){n.MODALITY_UNSPECIFIED="MODALITY_UNSPECIFIED",n.TEXT="TEXT",n.IMAGE="IMAGE",n.VIDEO="VIDEO",n.AUDIO="AUDIO",n.DOCUMENT="DOCUMENT"})(Gt||(Gt={}));class _e{get text(){var t,e,o,r,l,a,u,c;if(((r=(o=(e=(t=this.candidates)===null||t===void 0?void 0:t[0])===null||e===void 0?void 0:e.content)===null||o===void 0?void 0:o.parts)===null||r===void 0?void 0:r.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning text from the first one.");let d="",f=!1;const p=[];for(const v of(c=(u=(a=(l=this.candidates)===null||l===void 0?void 0:l[0])===null||a===void 0?void 0:a.content)===null||u===void 0?void 0:u.parts)!==null&&c!==void 0?c:[]){for(const[h,g]of Object.entries(v))h!=="text"&&h!=="thought"&&(g!==null||g!==void 0)&&p.push(h);if(typeof v.text=="string"){if(typeof v.thought=="boolean"&&v.thought)continue;f=!0,d+=v.text}}return p.length>0&&console.warn(`there are non-text parts ${p} in the response, returning concatenation of all text parts. Please refer to the non text parts for a full response from model.`),f?d:void 0}get functionCalls(){var t,e,o,r,l,a,u,c;if(((r=(o=(e=(t=this.candidates)===null||t===void 0?void 0:t[0])===null||e===void 0?void 0:e.content)===null||o===void 0?void 0:o.parts)===null||r===void 0?void 0:r.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning function calls from the first one.");const d=(c=(u=(a=(l=this.candidates)===null||l===void 0?void 0:l[0])===null||a===void 0?void 0:a.content)===null||u===void 0?void 0:u.parts)===null||c===void 0?void 0:c.filter(f=>f.functionCall).map(f=>f.functionCall).filter(f=>f!==void 0);if((d==null?void 0:d.length)!==0)return d}get executableCode(){var t,e,o,r,l,a,u,c,d;if(((r=(o=(e=(t=this.candidates)===null||t===void 0?void 0:t[0])===null||e===void 0?void 0:e.content)===null||o===void 0?void 0:o.parts)===null||r===void 0?void 0:r.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning executable code from the first one.");const f=(c=(u=(a=(l=this.candidates)===null||l===void 0?void 0:l[0])===null||a===void 0?void 0:a.content)===null||u===void 0?void 0:u.parts)===null||c===void 0?void 0:c.filter(p=>p.executableCode).map(p=>p.executableCode).filter(p=>p!==void 0);if((f==null?void 0:f.length)!==0)return(d=f==null?void 0:f[0])===null||d===void 0?void 0:d.code}get codeExecutionResult(){var t,e,o,r,l,a,u,c,d;if(((r=(o=(e=(t=this.candidates)===null||t===void 0?void 0:t[0])===null||e===void 0?void 0:e.content)===null||o===void 0?void 0:o.parts)===null||r===void 0?void 0:r.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning code execution result from the first one.");const f=(c=(u=(a=(l=this.candidates)===null||l===void 0?void 0:l[0])===null||a===void 0?void 0:a.content)===null||u===void 0?void 0:u.parts)===null||c===void 0?void 0:c.filter(p=>p.codeExecutionResult).map(p=>p.codeExecutionResult).filter(p=>p!==void 0);if((f==null?void 0:f.length)!==0)return(d=f==null?void 0:f[0])===null||d===void 0?void 0:d.output}}class qt{}class Ot{}class Bt{}class $i{}class $t{}class Ht{}class Hi{}class uo{constructor(t){const e={};for(const o of t.headers.entries())e[o[0]]=o[1];this.headers=e,this.responseInternal=t}json(){return this.responseInternal.json()}}class zi{}class Ki{}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class Yi extends Ue{constructor(t){super(),this.apiClient=t,this.list=async(e={})=>new ao(De.PAGED_ITEM_CACHED_CONTENTS,o=>this.listInternal(o),await this.listInternal(e),e)}async create(t){var e,o;let r,l="",a={};if(this.apiClient.isVertexAI()){const u=Pi(this.apiClient,t);return l=P("cachedContents",u._url),a=u._query,delete u.config,delete u._url,delete u._query,r=this.apiClient.request({path:l,queryParams:a,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(e=t.config)===null||e===void 0?void 0:e.httpOptions}).then(c=>c.json()),r.then(c=>be(this.apiClient,c))}else{const u=hi(this.apiClient,t);return l=P("cachedContents",u._url),a=u._query,delete u.config,delete u._url,delete u._query,r=this.apiClient.request({path:l,queryParams:a,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(o=t.config)===null||o===void 0?void 0:o.httpOptions}).then(c=>c.json()),r.then(c=>Re(this.apiClient,c))}}async get(t){var e,o;let r,l="",a={};if(this.apiClient.isVertexAI()){const u=Di(this.apiClient,t);return l=P("{name}",u._url),a=u._query,delete u.config,delete u._url,delete u._query,r=this.apiClient.request({path:l,queryParams:a,body:JSON.stringify(u),httpMethod:"GET",httpOptions:(e=t.config)===null||e===void 0?void 0:e.httpOptions}).then(c=>c.json()),r.then(c=>be(this.apiClient,c))}else{const u=gi(this.apiClient,t);return l=P("{name}",u._url),a=u._query,delete u.config,delete u._url,delete u._query,r=this.apiClient.request({path:l,queryParams:a,body:JSON.stringify(u),httpMethod:"GET",httpOptions:(o=t.config)===null||o===void 0?void 0:o.httpOptions}).then(c=>c.json()),r.then(c=>Re(this.apiClient,c))}}async delete(t){var e,o;let r,l="",a={};if(this.apiClient.isVertexAI()){const u=Fi(this.apiClient,t);return l=P("{name}",u._url),a=u._query,delete u.config,delete u._url,delete u._query,r=this.apiClient.request({path:l,queryParams:a,body:JSON.stringify(u),httpMethod:"DELETE",httpOptions:(e=t.config)===null||e===void 0?void 0:e.httpOptions}).then(c=>c.json()),r.then(()=>{const c=Oi(),d=new $t;return Object.assign(d,c),d})}else{const u=yi(this.apiClient,t);return l=P("{name}",u._url),a=u._query,delete u.config,delete u._url,delete u._query,r=this.apiClient.request({path:l,queryParams:a,body:JSON.stringify(u),httpMethod:"DELETE",httpOptions:(o=t.config)===null||o===void 0?void 0:o.httpOptions}).then(c=>c.json()),r.then(()=>{const c=Gi(),d=new $t;return Object.assign(d,c),d})}}async update(t){var e,o;let r,l="",a={};if(this.apiClient.isVertexAI()){const u=Li(this.apiClient,t);return l=P("{name}",u._url),a=u._query,delete u.config,delete u._url,delete u._query,r=this.apiClient.request({path:l,queryParams:a,body:JSON.stringify(u),httpMethod:"PATCH",httpOptions:(e=t.config)===null||e===void 0?void 0:e.httpOptions}).then(c=>c.json()),r.then(c=>be(this.apiClient,c))}else{const u=Ci(this.apiClient,t);return l=P("{name}",u._url),a=u._query,delete u.config,delete u._url,delete u._query,r=this.apiClient.request({path:l,queryParams:a,body:JSON.stringify(u),httpMethod:"PATCH",httpOptions:(o=t.config)===null||o===void 0?void 0:o.httpOptions}).then(c=>c.json()),r.then(c=>Re(this.apiClient,c))}}async listInternal(t){var e,o;let r,l="",a={};if(this.apiClient.isVertexAI()){const u=Ui(this.apiClient,t);return l=P("cachedContents",u._url),a=u._query,delete u.config,delete u._url,delete u._query,r=this.apiClient.request({path:l,queryParams:a,body:JSON.stringify(u),httpMethod:"GET",httpOptions:(e=t.config)===null||e===void 0?void 0:e.httpOptions}).then(c=>c.json()),r.then(c=>{const d=Bi(this.apiClient,c),f=new Ht;return Object.assign(f,d),f})}else{const u=Ei(this.apiClient,t);return l=P("cachedContents",u._url),a=u._query,delete u.config,delete u._url,delete u._query,r=this.apiClient.request({path:l,queryParams:a,body:JSON.stringify(u),httpMethod:"GET",httpOptions:(o=t.config)===null||o===void 0?void 0:o.httpOptions}).then(c=>c.json()),r.then(c=>{const d=qi(this.apiClient,c),f=new Ht;return Object.assign(f,d),f})}}}function zt(n){var t=typeof Symbol=="function"&&Symbol.iterator,e=t&&n[t],o=0;if(e)return e.call(n);if(n&&typeof n.length=="number")return{next:function(){return n&&o>=n.length&&(n=void 0),{value:n&&n[o++],done:!n}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")}function K(n){return this instanceof K?(this.v=n,this):new K(n)}function Fe(n,t,e){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var o=e.apply(n,t||[]),r,l=[];return r=Object.create((typeof AsyncIterator=="function"?AsyncIterator:Object).prototype),u("next"),u("throw"),u("return",a),r[Symbol.asyncIterator]=function(){return this},r;function a(h){return function(g){return Promise.resolve(g).then(h,p)}}function u(h,g){o[h]&&(r[h]=function(C){return new Promise(function(E,w){l.push([h,C,E,w])>1||c(h,C)})},g&&(r[h]=g(r[h])))}function c(h,g){try{d(o[h](g))}catch(C){v(l[0][3],C)}}function d(h){h.value instanceof K?Promise.resolve(h.value.v).then(f,p):v(l[0][2],h)}function f(h){c("next",h)}function p(h){c("throw",h)}function v(h,g){h(g),l.shift(),l.length&&c(l[0][0],l[0][1])}}function Ze(n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var t=n[Symbol.asyncIterator],e;return t?t.call(n):(n=typeof zt=="function"?zt(n):n[Symbol.iterator](),e={},o("next"),o("throw"),o("return"),e[Symbol.asyncIterator]=function(){return this},e);function o(l){e[l]=n[l]&&function(a){return new Promise(function(u,c){a=n[l](a),r(u,c,a.done,a.value)})}}function r(l,a,u,c){Promise.resolve(c).then(function(d){l({value:d,done:u})},a)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function Wi(n){var t;if(n.candidates==null||n.candidates.length===0)return!1;const e=(t=n.candidates[0])===null||t===void 0?void 0:t.content;return e===void 0?!1:co(e)}function co(n){if(n.parts===void 0||n.parts.length===0)return!1;for(const t of n.parts)if(t===void 0||Object.keys(t).length===0||t.text!==void 0&&t.text==="")return!1;return!0}function Ji(n){if(n.length!==0){if(n[0].role!=="user")throw new Error("History must start with a user turn.");for(const t of n)if(t.role!=="user"&&t.role!=="model")throw new Error(`Role must be user or model, but got ${t.role}.`)}}function Xi(n){if(n===void 0||n.length===0)return[];const t=[],e=n.length;let o=0,r=n[0];for(;o<e;)if(n[o].role==="user")r=n[o],o++;else{const l=[];let a=!0;for(;o<e&&n[o].role==="model";)l.push(n[o]),a&&!co(n[o])&&(a=!1),o++;a&&(t.push(r),t.push(...l))}return t}class Qi{constructor(t,e){this.modelsModule=t,this.apiClient=e}create(t){return new Zi(this.apiClient,this.modelsModule,t.model,t.config,t.history)}}class Zi{constructor(t,e,o,r={},l=[]){this.apiClient=t,this.modelsModule=e,this.model=o,this.config=r,this.history=l,this.sendPromise=Promise.resolve(),Ji(l)}async sendMessage(t){var e;await this.sendPromise;const o=Z(this.apiClient,t.message),r=this.modelsModule.generateContent({model:this.model,contents:this.getHistory(!0).concat(o),config:(e=t.config)!==null&&e!==void 0?e:this.config});return this.sendPromise=(async()=>{var l,a;const c=(a=(l=(await r).candidates)===null||l===void 0?void 0:l[0])===null||a===void 0?void 0:a.content,d=c?[c]:[];this.recordHistory(o,d)})(),await this.sendPromise,r}async sendMessageStream(t){var e;await this.sendPromise;const o=Z(this.apiClient,t.message),r=this.modelsModule.generateContentStream({model:this.model,contents:this.getHistory(!0).concat(o),config:(e=t.config)!==null&&e!==void 0?e:this.config});this.sendPromise=r.then(()=>{});const l=await r;return this.processStreamResponse(l,o)}getHistory(t=!1){return t?Xi(this.history):this.history}processStreamResponse(t,e){var o,r;return Fe(this,arguments,function*(){var a,u,c,d;const f=[];try{for(var p=!0,v=Ze(t),h;h=yield K(v.next()),a=h.done,!a;p=!0){d=h.value,p=!1;const g=d;if(Wi(g)){const C=(r=(o=g.candidates)===null||o===void 0?void 0:o[0])===null||r===void 0?void 0:r.content;C!==void 0&&f.push(C)}yield yield K(g)}}catch(g){u={error:g}}finally{try{!p&&!a&&(c=v.return)&&(yield K(c.call(v)))}finally{if(u)throw u.error}}this.recordHistory(e,f)})}recordHistory(t,e){let o=[];e.length>0&&e.every(r=>r.role==="model")?o=e:o.push({role:"model",parts:[]}),this.history.push(t),this.history.push(...o)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function ji(n,t,e){const o={},r=s(t,["pageSize"]);e!==void 0&&r!=null&&i(e,["_query","pageSize"],r);const l=s(t,["pageToken"]);return e!==void 0&&l!=null&&i(e,["_query","pageToken"],l),o}function es(n,t){const e={},o=s(t,["config"]);return o!=null&&i(e,["config"],ji(n,o,e)),e}function ts(n,t){const e={},o=s(t,["details"]);o!=null&&i(e,["details"],o);const r=s(t,["message"]);r!=null&&i(e,["message"],r);const l=s(t,["code"]);return l!=null&&i(e,["code"],l),e}function ns(n,t){const e={},o=s(t,["name"]);o!=null&&i(e,["name"],o);const r=s(t,["displayName"]);r!=null&&i(e,["displayName"],r);const l=s(t,["mimeType"]);l!=null&&i(e,["mimeType"],l);const a=s(t,["sizeBytes"]);a!=null&&i(e,["sizeBytes"],a);const u=s(t,["createTime"]);u!=null&&i(e,["createTime"],u);const c=s(t,["expirationTime"]);c!=null&&i(e,["expirationTime"],c);const d=s(t,["updateTime"]);d!=null&&i(e,["updateTime"],d);const f=s(t,["sha256Hash"]);f!=null&&i(e,["sha256Hash"],f);const p=s(t,["uri"]);p!=null&&i(e,["uri"],p);const v=s(t,["downloadUri"]);v!=null&&i(e,["downloadUri"],v);const h=s(t,["state"]);h!=null&&i(e,["state"],h);const g=s(t,["source"]);g!=null&&i(e,["source"],g);const C=s(t,["videoMetadata"]);C!=null&&i(e,["videoMetadata"],C);const E=s(t,["error"]);return E!=null&&i(e,["error"],ts(n,E)),e}function os(n,t){const e={},o=s(t,["file"]);o!=null&&i(e,["file"],ns(n,o));const r=s(t,["config"]);return r!=null&&i(e,["config"],r),e}function rs(n,t){const e={},o=s(t,["name"]);o!=null&&i(e,["_url","file"],lo(n,o));const r=s(t,["config"]);return r!=null&&i(e,["config"],r),e}function is(n,t){const e={},o=s(t,["name"]);o!=null&&i(e,["_url","file"],lo(n,o));const r=s(t,["config"]);return r!=null&&i(e,["config"],r),e}function ss(n,t){const e={},o=s(t,["details"]);o!=null&&i(e,["details"],o);const r=s(t,["message"]);r!=null&&i(e,["message"],r);const l=s(t,["code"]);return l!=null&&i(e,["code"],l),e}function je(n,t){const e={},o=s(t,["name"]);o!=null&&i(e,["name"],o);const r=s(t,["displayName"]);r!=null&&i(e,["displayName"],r);const l=s(t,["mimeType"]);l!=null&&i(e,["mimeType"],l);const a=s(t,["sizeBytes"]);a!=null&&i(e,["sizeBytes"],a);const u=s(t,["createTime"]);u!=null&&i(e,["createTime"],u);const c=s(t,["expirationTime"]);c!=null&&i(e,["expirationTime"],c);const d=s(t,["updateTime"]);d!=null&&i(e,["updateTime"],d);const f=s(t,["sha256Hash"]);f!=null&&i(e,["sha256Hash"],f);const p=s(t,["uri"]);p!=null&&i(e,["uri"],p);const v=s(t,["downloadUri"]);v!=null&&i(e,["downloadUri"],v);const h=s(t,["state"]);h!=null&&i(e,["state"],h);const g=s(t,["source"]);g!=null&&i(e,["source"],g);const C=s(t,["videoMetadata"]);C!=null&&i(e,["videoMetadata"],C);const E=s(t,["error"]);return E!=null&&i(e,["error"],ss(n,E)),e}function ls(n,t){const e={},o=s(t,["nextPageToken"]);o!=null&&i(e,["nextPageToken"],o);const r=s(t,["files"]);return r!=null&&(Array.isArray(r)?i(e,["files"],r.map(l=>je(n,l))):i(e,["files"],r)),e}function as(n,t){const e={},o=s(t,["httpHeaders"]);return o!=null&&i(e,["httpHeaders"],o),e}function us(){return{}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class cs extends Ue{constructor(t){super(),this.apiClient=t,this.list=async(e={})=>new ao(De.PAGED_ITEM_FILES,o=>this.listInternal(o),await this.listInternal(e),e)}async upload(t){if(this.apiClient.isVertexAI())throw new Error("Vertex AI does not support uploading files. You can share files through a GCS bucket.");return this.apiClient.uploadFile(t.file,t.config).then(e=>je(this.apiClient,e))}async listInternal(t){var e;let o,r="",l={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const a=es(this.apiClient,t);return r=P("files",a._url),l=a._query,delete a.config,delete a._url,delete a._query,o=this.apiClient.request({path:r,queryParams:l,body:JSON.stringify(a),httpMethod:"GET",httpOptions:(e=t.config)===null||e===void 0?void 0:e.httpOptions}).then(u=>u.json()),o.then(u=>{const c=ls(this.apiClient,u),d=new Hi;return Object.assign(d,c),d})}}async createInternal(t){var e;let o,r="",l={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const a=os(this.apiClient,t);return r=P("upload/v1beta/files",a._url),l=a._query,delete a.config,delete a._url,delete a._query,o=this.apiClient.request({path:r,queryParams:l,body:JSON.stringify(a),httpMethod:"POST",httpOptions:(e=t.config)===null||e===void 0?void 0:e.httpOptions}).then(u=>u.json()),o.then(u=>{const c=as(this.apiClient,u),d=new zi;return Object.assign(d,c),d})}}async get(t){var e;let o,r="",l={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const a=rs(this.apiClient,t);return r=P("files/{file}",a._url),l=a._query,delete a.config,delete a._url,delete a._query,o=this.apiClient.request({path:r,queryParams:l,body:JSON.stringify(a),httpMethod:"GET",httpOptions:(e=t.config)===null||e===void 0?void 0:e.httpOptions}).then(u=>u.json()),o.then(u=>je(this.apiClient,u))}}async delete(t){var e;let o,r="",l={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const a=is(this.apiClient,t);return r=P("files/{file}",a._url),l=a._query,delete a.config,delete a._url,delete a._query,o=this.apiClient.request({path:r,queryParams:l,body:JSON.stringify(a),httpMethod:"DELETE",httpOptions:(e=t.config)===null||e===void 0?void 0:e.httpOptions}).then(u=>u.json()),o.then(()=>{const u=us(),c=new Ki;return Object.assign(c,u),c})}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function ds(n,t){const e={};if(s(t,["videoMetadata"])!==void 0)throw new Error("videoMetadata parameter is not supported in Gemini API.");const o=s(t,["thought"]);o!=null&&i(e,["thought"],o);const r=s(t,["codeExecutionResult"]);r!=null&&i(e,["codeExecutionResult"],r);const l=s(t,["executableCode"]);l!=null&&i(e,["executableCode"],l);const a=s(t,["fileData"]);a!=null&&i(e,["fileData"],a);const u=s(t,["functionCall"]);u!=null&&i(e,["functionCall"],u);const c=s(t,["functionResponse"]);c!=null&&i(e,["functionResponse"],c);const d=s(t,["inlineData"]);d!=null&&i(e,["inlineData"],d);const f=s(t,["text"]);return f!=null&&i(e,["text"],f),e}function we(n,t){const e={},o=s(t,["parts"]);o!=null&&(Array.isArray(o)?i(e,["parts"],o.map(l=>ds(n,l))):i(e,["parts"],o));const r=s(t,["role"]);return r!=null&&i(e,["role"],r),e}function fs(n,t){const e={};if(s(t,["example"])!==void 0)throw new Error("example parameter is not supported in Gemini API.");if(s(t,["pattern"])!==void 0)throw new Error("pattern parameter is not supported in Gemini API.");if(s(t,["default"])!==void 0)throw new Error("default parameter is not supported in Gemini API.");if(s(t,["maxLength"])!==void 0)throw new Error("maxLength parameter is not supported in Gemini API.");if(s(t,["minLength"])!==void 0)throw new Error("minLength parameter is not supported in Gemini API.");if(s(t,["minProperties"])!==void 0)throw new Error("minProperties parameter is not supported in Gemini API.");if(s(t,["maxProperties"])!==void 0)throw new Error("maxProperties parameter is not supported in Gemini API.");const o=s(t,["anyOf"]);o!=null&&i(e,["anyOf"],o);const r=s(t,["description"]);r!=null&&i(e,["description"],r);const l=s(t,["enum"]);l!=null&&i(e,["enum"],l);const a=s(t,["format"]);a!=null&&i(e,["format"],a);const u=s(t,["items"]);u!=null&&i(e,["items"],u);const c=s(t,["maxItems"]);c!=null&&i(e,["maxItems"],c);const d=s(t,["maximum"]);d!=null&&i(e,["maximum"],d);const f=s(t,["minItems"]);f!=null&&i(e,["minItems"],f);const p=s(t,["minimum"]);p!=null&&i(e,["minimum"],p);const v=s(t,["nullable"]);v!=null&&i(e,["nullable"],v);const h=s(t,["properties"]);h!=null&&i(e,["properties"],h);const g=s(t,["propertyOrdering"]);g!=null&&i(e,["propertyOrdering"],g);const C=s(t,["required"]);C!=null&&i(e,["required"],C);const E=s(t,["title"]);E!=null&&i(e,["title"],E);const w=s(t,["type"]);return w!=null&&i(e,["type"],w),e}function ps(n,t){const e={};if(s(t,["method"])!==void 0)throw new Error("method parameter is not supported in Gemini API.");const o=s(t,["category"]);o!=null&&i(e,["category"],o);const r=s(t,["threshold"]);return r!=null&&i(e,["threshold"],r),e}function ms(n,t){const e={};if(s(t,["response"])!==void 0)throw new Error("response parameter is not supported in Gemini API.");const o=s(t,["description"]);o!=null&&i(e,["description"],o);const r=s(t,["name"]);r!=null&&i(e,["name"],r);const l=s(t,["parameters"]);return l!=null&&i(e,["parameters"],l),e}function hs(){return{}}function gs(n,t){const e={},o=s(t,["mode"]);o!=null&&i(e,["mode"],o);const r=s(t,["dynamicThreshold"]);return r!=null&&i(e,["dynamicThreshold"],r),e}function ys(n,t){const e={},o=s(t,["dynamicRetrievalConfig"]);return o!=null&&i(e,["dynamicRetrievalConfig"],gs(n,o)),e}function fo(n,t){const e={},o=s(t,["functionDeclarations"]);if(o!=null&&(Array.isArray(o)?i(e,["functionDeclarations"],o.map(u=>ms(n,u))):i(e,["functionDeclarations"],o)),s(t,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");s(t,["googleSearch"])!=null&&i(e,["googleSearch"],hs());const l=s(t,["googleSearchRetrieval"]);l!=null&&i(e,["googleSearchRetrieval"],ys(n,l));const a=s(t,["codeExecution"]);return a!=null&&i(e,["codeExecution"],a),e}function vs(n,t){const e={},o=s(t,["mode"]);o!=null&&i(e,["mode"],o);const r=s(t,["allowedFunctionNames"]);return r!=null&&i(e,["allowedFunctionNames"],r),e}function Cs(n,t){const e={},o=s(t,["functionCallingConfig"]);return o!=null&&i(e,["functionCallingConfig"],vs(n,o)),e}function xs(n,t){const e={},o=s(t,["voiceName"]);return o!=null&&i(e,["voiceName"],o),e}function Es(n,t){const e={},o=s(t,["prebuiltVoiceConfig"]);return o!=null&&i(e,["prebuiltVoiceConfig"],xs(n,o)),e}function Ts(n,t){const e={},o=s(t,["voiceConfig"]);return o!=null&&i(e,["voiceConfig"],Es(n,o)),e}function ws(n,t){const e={},o=s(t,["includeThoughts"]);return o!=null&&i(e,["includeThoughts"],o),e}function Is(n,t,e){const o={},r=s(t,["systemInstruction"]);e!==void 0&&r!=null&&i(e,["systemInstruction"],we(n,Z(n,r)));const l=s(t,["temperature"]);l!=null&&i(o,["temperature"],l);const a=s(t,["topP"]);a!=null&&i(o,["topP"],a);const u=s(t,["topK"]);u!=null&&i(o,["topK"],u);const c=s(t,["candidateCount"]);c!=null&&i(o,["candidateCount"],c);const d=s(t,["maxOutputTokens"]);d!=null&&i(o,["maxOutputTokens"],d);const f=s(t,["stopSequences"]);f!=null&&i(o,["stopSequences"],f);const p=s(t,["responseLogprobs"]);p!=null&&i(o,["responseLogprobs"],p);const v=s(t,["logprobs"]);v!=null&&i(o,["logprobs"],v);const h=s(t,["presencePenalty"]);h!=null&&i(o,["presencePenalty"],h);const g=s(t,["frequencyPenalty"]);g!=null&&i(o,["frequencyPenalty"],g);const C=s(t,["seed"]);C!=null&&i(o,["seed"],C);const E=s(t,["responseMimeType"]);E!=null&&i(o,["responseMimeType"],E);const w=s(t,["responseSchema"]);if(w!=null&&i(o,["responseSchema"],fs(n,ro(n,w))),s(t,["routingConfig"])!==void 0)throw new Error("routingConfig parameter is not supported in Gemini API.");const x=s(t,["safetySettings"]);e!==void 0&&x!=null&&(Array.isArray(x)?i(e,["safetySettings"],x.map(O=>ps(n,O))):i(e,["safetySettings"],x));const _=s(t,["tools"]);e!==void 0&&_!=null&&(Array.isArray(_)?i(e,["tools"],he(n,he(n,_).map(O=>fo(n,so(n,O))))):i(e,["tools"],he(n,_)));const N=s(t,["toolConfig"]);if(e!==void 0&&N!=null&&i(e,["toolConfig"],Cs(n,N)),s(t,["labels"])!==void 0)throw new Error("labels parameter is not supported in Gemini API.");const F=s(t,["cachedContent"]);e!==void 0&&F!=null&&i(e,["cachedContent"],le(n,F));const T=s(t,["responseModalities"]);T!=null&&i(o,["responseModalities"],T);const b=s(t,["mediaResolution"]);b!=null&&i(o,["mediaResolution"],b);const D=s(t,["speechConfig"]);if(D!=null&&i(o,["speechConfig"],Ts(n,io(n,D))),s(t,["audioTimestamp"])!==void 0)throw new Error("audioTimestamp parameter is not supported in Gemini API.");const W=s(t,["thinkingConfig"]);return W!=null&&i(o,["thinkingConfig"],ws(n,W)),o}function Kt(n,t){const e={},o=s(t,["model"]);o!=null&&i(e,["_url","model"],Y(n,o));const r=s(t,["contents"]);r!=null&&(Array.isArray(r)?i(e,["contents"],L(n,L(n,r).map(a=>we(n,a)))):i(e,["contents"],L(n,r)));const l=s(t,["config"]);return l!=null&&i(e,["generationConfig"],Is(n,l,e)),e}function As(n,t,e){const o={},r=s(t,["taskType"]);e!==void 0&&r!=null&&i(e,["requests[]","taskType"],r);const l=s(t,["title"]);e!==void 0&&l!=null&&i(e,["requests[]","title"],l);const a=s(t,["outputDimensionality"]);if(e!==void 0&&a!=null&&i(e,["requests[]","outputDimensionality"],a),s(t,["mimeType"])!==void 0)throw new Error("mimeType parameter is not supported in Gemini API.");if(s(t,["autoTruncate"])!==void 0)throw new Error("autoTruncate parameter is not supported in Gemini API.");return o}function _s(n,t){const e={},o=s(t,["model"]);o!=null&&i(e,["_url","model"],Y(n,o));const r=s(t,["contents"]);r!=null&&i(e,["requests[]","content"],oo(n,r));const l=s(t,["config"]);l!=null&&i(e,["config"],As(n,l,e));const a=s(t,["model"]);return a!==void 0&&i(e,["requests[]","model"],Y(n,a)),e}function Ss(n,t,e){const o={};if(s(t,["outputGcsUri"])!==void 0)throw new Error("outputGcsUri parameter is not supported in Gemini API.");if(s(t,["negativePrompt"])!==void 0)throw new Error("negativePrompt parameter is not supported in Gemini API.");const r=s(t,["numberOfImages"]);e!==void 0&&r!=null&&i(e,["parameters","sampleCount"],r);const l=s(t,["aspectRatio"]);e!==void 0&&l!=null&&i(e,["parameters","aspectRatio"],l);const a=s(t,["guidanceScale"]);if(e!==void 0&&a!=null&&i(e,["parameters","guidanceScale"],a),s(t,["seed"])!==void 0)throw new Error("seed parameter is not supported in Gemini API.");const u=s(t,["safetyFilterLevel"]);e!==void 0&&u!=null&&i(e,["parameters","safetySetting"],u);const c=s(t,["personGeneration"]);e!==void 0&&c!=null&&i(e,["parameters","personGeneration"],c);const d=s(t,["includeSafetyAttributes"]);e!==void 0&&d!=null&&i(e,["parameters","includeSafetyAttributes"],d);const f=s(t,["includeRaiReason"]);e!==void 0&&f!=null&&i(e,["parameters","includeRaiReason"],f);const p=s(t,["language"]);e!==void 0&&p!=null&&i(e,["parameters","language"],p);const v=s(t,["outputMimeType"]);e!==void 0&&v!=null&&i(e,["parameters","outputOptions","mimeType"],v);const h=s(t,["outputCompressionQuality"]);if(e!==void 0&&h!=null&&i(e,["parameters","outputOptions","compressionQuality"],h),s(t,["addWatermark"])!==void 0)throw new Error("addWatermark parameter is not supported in Gemini API.");if(s(t,["enhancePrompt"])!==void 0)throw new Error("enhancePrompt parameter is not supported in Gemini API.");return o}function Ms(n,t){const e={},o=s(t,["model"]);o!=null&&i(e,["_url","model"],Y(n,o));const r=s(t,["prompt"]);r!=null&&i(e,["instances[0]","prompt"],r);const l=s(t,["config"]);return l!=null&&i(e,["config"],Ss(n,l,e)),e}function Rs(n,t){const e={};if(s(t,["systemInstruction"])!==void 0)throw new Error("systemInstruction parameter is not supported in Gemini API.");if(s(t,["tools"])!==void 0)throw new Error("tools parameter is not supported in Gemini API.");if(s(t,["generationConfig"])!==void 0)throw new Error("generationConfig parameter is not supported in Gemini API.");return e}function bs(n,t){const e={},o=s(t,["model"]);o!=null&&i(e,["_url","model"],Y(n,o));const r=s(t,["contents"]);r!=null&&(Array.isArray(r)?i(e,["contents"],L(n,L(n,r).map(a=>we(n,a)))):i(e,["contents"],L(n,r)));const l=s(t,["config"]);return l!=null&&i(e,["config"],Rs(n,l)),e}function Ns(n,t){const e={};if(s(t,["gcsUri"])!==void 0)throw new Error("gcsUri parameter is not supported in Gemini API.");const o=s(t,["imageBytes"]);o!=null&&i(e,["bytesBase64Encoded"],ae(n,o));const r=s(t,["mimeType"]);return r!=null&&i(e,["mimeType"],r),e}function Ps(n,t,e){const o={},r=s(t,["numberOfVideos"]);if(e!==void 0&&r!=null&&i(e,["parameters","sampleCount"],r),s(t,["outputGcsUri"])!==void 0)throw new Error("outputGcsUri parameter is not supported in Gemini API.");if(s(t,["fps"])!==void 0)throw new Error("fps parameter is not supported in Gemini API.");const l=s(t,["durationSeconds"]);if(e!==void 0&&l!=null&&i(e,["parameters","durationSeconds"],l),s(t,["seed"])!==void 0)throw new Error("seed parameter is not supported in Gemini API.");const a=s(t,["aspectRatio"]);if(e!==void 0&&a!=null&&i(e,["parameters","aspectRatio"],a),s(t,["resolution"])!==void 0)throw new Error("resolution parameter is not supported in Gemini API.");const u=s(t,["personGeneration"]);if(e!==void 0&&u!=null&&i(e,["parameters","personGeneration"],u),s(t,["pubsubTopic"])!==void 0)throw new Error("pubsubTopic parameter is not supported in Gemini API.");const c=s(t,["negativePrompt"]);if(e!==void 0&&c!=null&&i(e,["parameters","negativePrompt"],c),s(t,["enhancePrompt"])!==void 0)throw new Error("enhancePrompt parameter is not supported in Gemini API.");return o}function Ds(n,t){const e={},o=s(t,["model"]);o!=null&&i(e,["_url","model"],Y(n,o));const r=s(t,["prompt"]);r!=null&&i(e,["instances[0]","prompt"],r);const l=s(t,["image"]);l!=null&&i(e,["instances[0]","image"],Ns(n,l));const a=s(t,["config"]);return a!=null&&i(e,["config"],Ps(n,a,e)),e}function Fs(n,t){const e={},o=s(t,["videoMetadata"]);o!=null&&i(e,["videoMetadata"],o);const r=s(t,["thought"]);r!=null&&i(e,["thought"],r);const l=s(t,["codeExecutionResult"]);l!=null&&i(e,["codeExecutionResult"],l);const a=s(t,["executableCode"]);a!=null&&i(e,["executableCode"],a);const u=s(t,["fileData"]);u!=null&&i(e,["fileData"],u);const c=s(t,["functionCall"]);c!=null&&i(e,["functionCall"],c);const d=s(t,["functionResponse"]);d!=null&&i(e,["functionResponse"],d);const f=s(t,["inlineData"]);f!=null&&i(e,["inlineData"],f);const p=s(t,["text"]);return p!=null&&i(e,["text"],p),e}function ce(n,t){const e={},o=s(t,["parts"]);o!=null&&(Array.isArray(o)?i(e,["parts"],o.map(l=>Fs(n,l))):i(e,["parts"],o));const r=s(t,["role"]);return r!=null&&i(e,["role"],r),e}function po(n,t){const e={},o=s(t,["example"]);o!=null&&i(e,["example"],o);const r=s(t,["pattern"]);r!=null&&i(e,["pattern"],r);const l=s(t,["default"]);l!=null&&i(e,["default"],l);const a=s(t,["maxLength"]);a!=null&&i(e,["maxLength"],a);const u=s(t,["minLength"]);u!=null&&i(e,["minLength"],u);const c=s(t,["minProperties"]);c!=null&&i(e,["minProperties"],c);const d=s(t,["maxProperties"]);d!=null&&i(e,["maxProperties"],d);const f=s(t,["anyOf"]);f!=null&&i(e,["anyOf"],f);const p=s(t,["description"]);p!=null&&i(e,["description"],p);const v=s(t,["enum"]);v!=null&&i(e,["enum"],v);const h=s(t,["format"]);h!=null&&i(e,["format"],h);const g=s(t,["items"]);g!=null&&i(e,["items"],g);const C=s(t,["maxItems"]);C!=null&&i(e,["maxItems"],C);const E=s(t,["maximum"]);E!=null&&i(e,["maximum"],E);const w=s(t,["minItems"]);w!=null&&i(e,["minItems"],w);const x=s(t,["minimum"]);x!=null&&i(e,["minimum"],x);const _=s(t,["nullable"]);_!=null&&i(e,["nullable"],_);const N=s(t,["properties"]);N!=null&&i(e,["properties"],N);const F=s(t,["propertyOrdering"]);F!=null&&i(e,["propertyOrdering"],F);const T=s(t,["required"]);T!=null&&i(e,["required"],T);const b=s(t,["title"]);b!=null&&i(e,["title"],b);const D=s(t,["type"]);return D!=null&&i(e,["type"],D),e}function Vs(n,t){const e={},o=s(t,["method"]);o!=null&&i(e,["method"],o);const r=s(t,["category"]);r!=null&&i(e,["category"],r);const l=s(t,["threshold"]);return l!=null&&i(e,["threshold"],l),e}function Ls(n,t){const e={},o=s(t,["response"]);o!=null&&i(e,["response"],po(n,o));const r=s(t,["description"]);r!=null&&i(e,["description"],r);const l=s(t,["name"]);l!=null&&i(e,["name"],l);const a=s(t,["parameters"]);return a!=null&&i(e,["parameters"],a),e}function ks(){return{}}function Us(n,t){const e={},o=s(t,["mode"]);o!=null&&i(e,["mode"],o);const r=s(t,["dynamicThreshold"]);return r!=null&&i(e,["dynamicThreshold"],r),e}function Gs(n,t){const e={},o=s(t,["dynamicRetrievalConfig"]);return o!=null&&i(e,["dynamicRetrievalConfig"],Us(n,o)),e}function st(n,t){const e={},o=s(t,["functionDeclarations"]);o!=null&&(Array.isArray(o)?i(e,["functionDeclarations"],o.map(c=>Ls(n,c))):i(e,["functionDeclarations"],o));const r=s(t,["retrieval"]);r!=null&&i(e,["retrieval"],r),s(t,["googleSearch"])!=null&&i(e,["googleSearch"],ks());const a=s(t,["googleSearchRetrieval"]);a!=null&&i(e,["googleSearchRetrieval"],Gs(n,a));const u=s(t,["codeExecution"]);return u!=null&&i(e,["codeExecution"],u),e}function qs(n,t){const e={},o=s(t,["mode"]);o!=null&&i(e,["mode"],o);const r=s(t,["allowedFunctionNames"]);return r!=null&&i(e,["allowedFunctionNames"],r),e}function Os(n,t){const e={},o=s(t,["functionCallingConfig"]);return o!=null&&i(e,["functionCallingConfig"],qs(n,o)),e}function Bs(n,t){const e={},o=s(t,["voiceName"]);return o!=null&&i(e,["voiceName"],o),e}function $s(n,t){const e={},o=s(t,["prebuiltVoiceConfig"]);return o!=null&&i(e,["prebuiltVoiceConfig"],Bs(n,o)),e}function Hs(n,t){const e={},o=s(t,["voiceConfig"]);return o!=null&&i(e,["voiceConfig"],$s(n,o)),e}function zs(n,t){const e={},o=s(t,["includeThoughts"]);return o!=null&&i(e,["includeThoughts"],o),e}function Ks(n,t,e){const o={},r=s(t,["systemInstruction"]);e!==void 0&&r!=null&&i(e,["systemInstruction"],ce(n,Z(n,r)));const l=s(t,["temperature"]);l!=null&&i(o,["temperature"],l);const a=s(t,["topP"]);a!=null&&i(o,["topP"],a);const u=s(t,["topK"]);u!=null&&i(o,["topK"],u);const c=s(t,["candidateCount"]);c!=null&&i(o,["candidateCount"],c);const d=s(t,["maxOutputTokens"]);d!=null&&i(o,["maxOutputTokens"],d);const f=s(t,["stopSequences"]);f!=null&&i(o,["stopSequences"],f);const p=s(t,["responseLogprobs"]);p!=null&&i(o,["responseLogprobs"],p);const v=s(t,["logprobs"]);v!=null&&i(o,["logprobs"],v);const h=s(t,["presencePenalty"]);h!=null&&i(o,["presencePenalty"],h);const g=s(t,["frequencyPenalty"]);g!=null&&i(o,["frequencyPenalty"],g);const C=s(t,["seed"]);C!=null&&i(o,["seed"],C);const E=s(t,["responseMimeType"]);E!=null&&i(o,["responseMimeType"],E);const w=s(t,["responseSchema"]);w!=null&&i(o,["responseSchema"],po(n,ro(n,w)));const x=s(t,["routingConfig"]);x!=null&&i(o,["routingConfig"],x);const _=s(t,["safetySettings"]);e!==void 0&&_!=null&&(Array.isArray(_)?i(e,["safetySettings"],_.map(H=>Vs(n,H))):i(e,["safetySettings"],_));const N=s(t,["tools"]);e!==void 0&&N!=null&&(Array.isArray(N)?i(e,["tools"],he(n,he(n,N).map(H=>st(n,so(n,H))))):i(e,["tools"],he(n,N)));const F=s(t,["toolConfig"]);e!==void 0&&F!=null&&i(e,["toolConfig"],Os(n,F));const T=s(t,["labels"]);e!==void 0&&T!=null&&i(e,["labels"],T);const b=s(t,["cachedContent"]);e!==void 0&&b!=null&&i(e,["cachedContent"],le(n,b));const D=s(t,["responseModalities"]);D!=null&&i(o,["responseModalities"],D);const W=s(t,["mediaResolution"]);W!=null&&i(o,["mediaResolution"],W);const O=s(t,["speechConfig"]);O!=null&&i(o,["speechConfig"],Hs(n,io(n,O)));const X=s(t,["audioTimestamp"]);X!=null&&i(o,["audioTimestamp"],X);const j=s(t,["thinkingConfig"]);return j!=null&&i(o,["thinkingConfig"],zs(n,j)),o}function Yt(n,t){const e={},o=s(t,["model"]);o!=null&&i(e,["_url","model"],Y(n,o));const r=s(t,["contents"]);r!=null&&(Array.isArray(r)?i(e,["contents"],L(n,L(n,r).map(a=>ce(n,a)))):i(e,["contents"],L(n,r)));const l=s(t,["config"]);return l!=null&&i(e,["generationConfig"],Ks(n,l,e)),e}function Ys(n,t,e){const o={},r=s(t,["taskType"]);e!==void 0&&r!=null&&i(e,["instances[]","task_type"],r);const l=s(t,["title"]);e!==void 0&&l!=null&&i(e,["instances[]","title"],l);const a=s(t,["outputDimensionality"]);e!==void 0&&a!=null&&i(e,["parameters","outputDimensionality"],a);const u=s(t,["mimeType"]);e!==void 0&&u!=null&&i(e,["instances[]","mimeType"],u);const c=s(t,["autoTruncate"]);return e!==void 0&&c!=null&&i(e,["parameters","autoTruncate"],c),o}function Ws(n,t){const e={},o=s(t,["model"]);o!=null&&i(e,["_url","model"],Y(n,o));const r=s(t,["contents"]);r!=null&&i(e,["instances[]","content"],oo(n,r));const l=s(t,["config"]);return l!=null&&i(e,["config"],Ys(n,l,e)),e}function Js(n,t,e){const o={},r=s(t,["outputGcsUri"]);e!==void 0&&r!=null&&i(e,["parameters","storageUri"],r);const l=s(t,["negativePrompt"]);e!==void 0&&l!=null&&i(e,["parameters","negativePrompt"],l);const a=s(t,["numberOfImages"]);e!==void 0&&a!=null&&i(e,["parameters","sampleCount"],a);const u=s(t,["aspectRatio"]);e!==void 0&&u!=null&&i(e,["parameters","aspectRatio"],u);const c=s(t,["guidanceScale"]);e!==void 0&&c!=null&&i(e,["parameters","guidanceScale"],c);const d=s(t,["seed"]);e!==void 0&&d!=null&&i(e,["parameters","seed"],d);const f=s(t,["safetyFilterLevel"]);e!==void 0&&f!=null&&i(e,["parameters","safetySetting"],f);const p=s(t,["personGeneration"]);e!==void 0&&p!=null&&i(e,["parameters","personGeneration"],p);const v=s(t,["includeSafetyAttributes"]);e!==void 0&&v!=null&&i(e,["parameters","includeSafetyAttributes"],v);const h=s(t,["includeRaiReason"]);e!==void 0&&h!=null&&i(e,["parameters","includeRaiReason"],h);const g=s(t,["language"]);e!==void 0&&g!=null&&i(e,["parameters","language"],g);const C=s(t,["outputMimeType"]);e!==void 0&&C!=null&&i(e,["parameters","outputOptions","mimeType"],C);const E=s(t,["outputCompressionQuality"]);e!==void 0&&E!=null&&i(e,["parameters","outputOptions","compressionQuality"],E);const w=s(t,["addWatermark"]);e!==void 0&&w!=null&&i(e,["parameters","addWatermark"],w);const x=s(t,["enhancePrompt"]);return e!==void 0&&x!=null&&i(e,["parameters","enhancePrompt"],x),o}function Xs(n,t){const e={},o=s(t,["model"]);o!=null&&i(e,["_url","model"],Y(n,o));const r=s(t,["prompt"]);r!=null&&i(e,["instances[0]","prompt"],r);const l=s(t,["config"]);return l!=null&&i(e,["config"],Js(n,l,e)),e}function Qs(n,t,e){const o={},r=s(t,["systemInstruction"]);e!==void 0&&r!=null&&i(e,["systemInstruction"],ce(n,Z(n,r)));const l=s(t,["tools"]);e!==void 0&&l!=null&&(Array.isArray(l)?i(e,["tools"],l.map(u=>st(n,u))):i(e,["tools"],l));const a=s(t,["generationConfig"]);return e!==void 0&&a!=null&&i(e,["generationConfig"],a),o}function Zs(n,t){const e={},o=s(t,["model"]);o!=null&&i(e,["_url","model"],Y(n,o));const r=s(t,["contents"]);r!=null&&(Array.isArray(r)?i(e,["contents"],L(n,L(n,r).map(a=>ce(n,a)))):i(e,["contents"],L(n,r)));const l=s(t,["config"]);return l!=null&&i(e,["config"],Qs(n,l,e)),e}function js(n,t){const e={},o=s(t,["model"]);o!=null&&i(e,["_url","model"],Y(n,o));const r=s(t,["contents"]);r!=null&&(Array.isArray(r)?i(e,["contents"],L(n,L(n,r).map(a=>ce(n,a)))):i(e,["contents"],L(n,r)));const l=s(t,["config"]);return l!=null&&i(e,["config"],l),e}function el(n,t){const e={},o=s(t,["gcsUri"]);o!=null&&i(e,["gcsUri"],o);const r=s(t,["imageBytes"]);r!=null&&i(e,["bytesBase64Encoded"],ae(n,r));const l=s(t,["mimeType"]);return l!=null&&i(e,["mimeType"],l),e}function tl(n,t,e){const o={},r=s(t,["numberOfVideos"]);e!==void 0&&r!=null&&i(e,["parameters","sampleCount"],r);const l=s(t,["outputGcsUri"]);e!==void 0&&l!=null&&i(e,["parameters","storageUri"],l);const a=s(t,["fps"]);e!==void 0&&a!=null&&i(e,["parameters","fps"],a);const u=s(t,["durationSeconds"]);e!==void 0&&u!=null&&i(e,["parameters","durationSeconds"],u);const c=s(t,["seed"]);e!==void 0&&c!=null&&i(e,["parameters","seed"],c);const d=s(t,["aspectRatio"]);e!==void 0&&d!=null&&i(e,["parameters","aspectRatio"],d);const f=s(t,["resolution"]);e!==void 0&&f!=null&&i(e,["parameters","resolution"],f);const p=s(t,["personGeneration"]);e!==void 0&&p!=null&&i(e,["parameters","personGeneration"],p);const v=s(t,["pubsubTopic"]);e!==void 0&&v!=null&&i(e,["parameters","pubsubTopic"],v);const h=s(t,["negativePrompt"]);e!==void 0&&h!=null&&i(e,["parameters","negativePrompt"],h);const g=s(t,["enhancePrompt"]);return e!==void 0&&g!=null&&i(e,["parameters","enhancePrompt"],g),o}function nl(n,t){const e={},o=s(t,["model"]);o!=null&&i(e,["_url","model"],Y(n,o));const r=s(t,["prompt"]);r!=null&&i(e,["instances[0]","prompt"],r);const l=s(t,["image"]);l!=null&&i(e,["instances[0]","image"],el(n,l));const a=s(t,["config"]);return a!=null&&i(e,["config"],tl(n,a,e)),e}function ol(n,t){const e={},o=s(t,["thought"]);o!=null&&i(e,["thought"],o);const r=s(t,["codeExecutionResult"]);r!=null&&i(e,["codeExecutionResult"],r);const l=s(t,["executableCode"]);l!=null&&i(e,["executableCode"],l);const a=s(t,["fileData"]);a!=null&&i(e,["fileData"],a);const u=s(t,["functionCall"]);u!=null&&i(e,["functionCall"],u);const c=s(t,["functionResponse"]);c!=null&&i(e,["functionResponse"],c);const d=s(t,["inlineData"]);d!=null&&i(e,["inlineData"],d);const f=s(t,["text"]);return f!=null&&i(e,["text"],f),e}function mo(n,t){const e={},o=s(t,["parts"]);o!=null&&(Array.isArray(o)?i(e,["parts"],o.map(l=>ol(n,l))):i(e,["parts"],o));const r=s(t,["role"]);return r!=null&&i(e,["role"],r),e}function rl(n,t){const e={},o=s(t,["citationSources"]);return o!=null&&i(e,["citations"],o),e}function il(n,t){const e={},o=s(t,["content"]);o!=null&&i(e,["content"],mo(n,o));const r=s(t,["citationMetadata"]);r!=null&&i(e,["citationMetadata"],rl(n,r));const l=s(t,["tokenCount"]);l!=null&&i(e,["tokenCount"],l);const a=s(t,["finishReason"]);a!=null&&i(e,["finishReason"],a);const u=s(t,["avgLogprobs"]);u!=null&&i(e,["avgLogprobs"],u);const c=s(t,["groundingMetadata"]);c!=null&&i(e,["groundingMetadata"],c);const d=s(t,["index"]);d!=null&&i(e,["index"],d);const f=s(t,["logprobsResult"]);f!=null&&i(e,["logprobsResult"],f);const p=s(t,["safetyRatings"]);return p!=null&&i(e,["safetyRatings"],p),e}function Wt(n,t){const e={},o=s(t,["candidates"]);o!=null&&(Array.isArray(o)?i(e,["candidates"],o.map(u=>il(n,u))):i(e,["candidates"],o));const r=s(t,["modelVersion"]);r!=null&&i(e,["modelVersion"],r);const l=s(t,["promptFeedback"]);l!=null&&i(e,["promptFeedback"],l);const a=s(t,["usageMetadata"]);return a!=null&&i(e,["usageMetadata"],a),e}function sl(n,t){const e={},o=s(t,["values"]);return o!=null&&i(e,["values"],o),e}function ll(){return{}}function al(n,t){const e={},o=s(t,["embeddings"]);return o!=null&&(Array.isArray(o)?i(e,["embeddings"],o.map(l=>sl(n,l))):i(e,["embeddings"],o)),s(t,["metadata"])!=null&&i(e,["metadata"],ll()),e}function ul(n,t){const e={},o=s(t,["bytesBase64Encoded"]);o!=null&&i(e,["imageBytes"],ae(n,o));const r=s(t,["mimeType"]);return r!=null&&i(e,["mimeType"],r),e}function ho(n,t){const e={},o=s(t,["safetyAttributes","categories"]);o!=null&&i(e,["categories"],o);const r=s(t,["safetyAttributes","scores"]);r!=null&&i(e,["scores"],r);const l=s(t,["contentType"]);return l!=null&&i(e,["contentType"],l),e}function cl(n,t){const e={},o=s(t,["_self"]);o!=null&&i(e,["image"],ul(n,o));const r=s(t,["raiFilteredReason"]);r!=null&&i(e,["raiFilteredReason"],r);const l=s(t,["_self"]);return l!=null&&i(e,["safetyAttributes"],ho(n,l)),e}function dl(n,t){const e={},o=s(t,["predictions"]);o!=null&&(Array.isArray(o)?i(e,["generatedImages"],o.map(l=>cl(n,l))):i(e,["generatedImages"],o));const r=s(t,["positivePromptSafetyAttributes"]);return r!=null&&i(e,["positivePromptSafetyAttributes"],ho(n,r)),e}function fl(n,t){const e={},o=s(t,["totalTokens"]);o!=null&&i(e,["totalTokens"],o);const r=s(t,["cachedContentTokenCount"]);return r!=null&&i(e,["cachedContentTokenCount"],r),e}function pl(n,t){const e={},o=s(t,["video","uri"]);o!=null&&i(e,["uri"],o);const r=s(t,["video","encodedVideo"]);r!=null&&i(e,["videoBytes"],ae(n,r));const l=s(t,["encoding"]);return l!=null&&i(e,["mimeType"],l),e}function ml(n,t){const e={},o=s(t,["_self"]);return o!=null&&i(e,["video"],pl(n,o)),e}function hl(n,t){const e={},o=s(t,["generatedSamples"]);o!=null&&(Array.isArray(o)?i(e,["generatedVideos"],o.map(a=>ml(n,a))):i(e,["generatedVideos"],o));const r=s(t,["raiMediaFilteredCount"]);r!=null&&i(e,["raiMediaFilteredCount"],r);const l=s(t,["raiMediaFilteredReasons"]);return l!=null&&i(e,["raiMediaFilteredReasons"],l),e}function gl(n,t){const e={},o=s(t,["name"]);o!=null&&i(e,["name"],o);const r=s(t,["metadata"]);r!=null&&i(e,["metadata"],r);const l=s(t,["done"]);l!=null&&i(e,["done"],l);const a=s(t,["error"]);a!=null&&i(e,["error"],a);const u=s(t,["response"]);u!=null&&i(e,["response"],u);const c=s(t,["response","generateVideoResponse"]);return c!=null&&i(e,["result"],hl(n,c)),e}function yl(n,t){const e={},o=s(t,["videoMetadata"]);o!=null&&i(e,["videoMetadata"],o);const r=s(t,["thought"]);r!=null&&i(e,["thought"],r);const l=s(t,["codeExecutionResult"]);l!=null&&i(e,["codeExecutionResult"],l);const a=s(t,["executableCode"]);a!=null&&i(e,["executableCode"],a);const u=s(t,["fileData"]);u!=null&&i(e,["fileData"],u);const c=s(t,["functionCall"]);c!=null&&i(e,["functionCall"],c);const d=s(t,["functionResponse"]);d!=null&&i(e,["functionResponse"],d);const f=s(t,["inlineData"]);f!=null&&i(e,["inlineData"],f);const p=s(t,["text"]);return p!=null&&i(e,["text"],p),e}function go(n,t){const e={},o=s(t,["parts"]);o!=null&&(Array.isArray(o)?i(e,["parts"],o.map(l=>yl(n,l))):i(e,["parts"],o));const r=s(t,["role"]);return r!=null&&i(e,["role"],r),e}function vl(n,t){const e={},o=s(t,["citations"]);return o!=null&&i(e,["citations"],o),e}function Cl(n,t){const e={},o=s(t,["content"]);o!=null&&i(e,["content"],go(n,o));const r=s(t,["citationMetadata"]);r!=null&&i(e,["citationMetadata"],vl(n,r));const l=s(t,["finishMessage"]);l!=null&&i(e,["finishMessage"],l);const a=s(t,["finishReason"]);a!=null&&i(e,["finishReason"],a);const u=s(t,["avgLogprobs"]);u!=null&&i(e,["avgLogprobs"],u);const c=s(t,["groundingMetadata"]);c!=null&&i(e,["groundingMetadata"],c);const d=s(t,["index"]);d!=null&&i(e,["index"],d);const f=s(t,["logprobsResult"]);f!=null&&i(e,["logprobsResult"],f);const p=s(t,["safetyRatings"]);return p!=null&&i(e,["safetyRatings"],p),e}function Jt(n,t){const e={},o=s(t,["candidates"]);o!=null&&(Array.isArray(o)?i(e,["candidates"],o.map(d=>Cl(n,d))):i(e,["candidates"],o));const r=s(t,["createTime"]);r!=null&&i(e,["createTime"],r);const l=s(t,["responseId"]);l!=null&&i(e,["responseId"],l);const a=s(t,["modelVersion"]);a!=null&&i(e,["modelVersion"],a);const u=s(t,["promptFeedback"]);u!=null&&i(e,["promptFeedback"],u);const c=s(t,["usageMetadata"]);return c!=null&&i(e,["usageMetadata"],c),e}function xl(n,t){const e={},o=s(t,["truncated"]);o!=null&&i(e,["truncated"],o);const r=s(t,["token_count"]);return r!=null&&i(e,["tokenCount"],r),e}function El(n,t){const e={},o=s(t,["values"]);o!=null&&i(e,["values"],o);const r=s(t,["statistics"]);return r!=null&&i(e,["statistics"],xl(n,r)),e}function Tl(n,t){const e={},o=s(t,["billableCharacterCount"]);return o!=null&&i(e,["billableCharacterCount"],o),e}function wl(n,t){const e={},o=s(t,["predictions[]","embeddings"]);o!=null&&(Array.isArray(o)?i(e,["embeddings"],o.map(l=>El(n,l))):i(e,["embeddings"],o));const r=s(t,["metadata"]);return r!=null&&i(e,["metadata"],Tl(n,r)),e}function Il(n,t){const e={},o=s(t,["gcsUri"]);o!=null&&i(e,["gcsUri"],o);const r=s(t,["bytesBase64Encoded"]);r!=null&&i(e,["imageBytes"],ae(n,r));const l=s(t,["mimeType"]);return l!=null&&i(e,["mimeType"],l),e}function yo(n,t){const e={},o=s(t,["safetyAttributes","categories"]);o!=null&&i(e,["categories"],o);const r=s(t,["safetyAttributes","scores"]);r!=null&&i(e,["scores"],r);const l=s(t,["contentType"]);return l!=null&&i(e,["contentType"],l),e}function Al(n,t){const e={},o=s(t,["_self"]);o!=null&&i(e,["image"],Il(n,o));const r=s(t,["raiFilteredReason"]);r!=null&&i(e,["raiFilteredReason"],r);const l=s(t,["_self"]);l!=null&&i(e,["safetyAttributes"],yo(n,l));const a=s(t,["prompt"]);return a!=null&&i(e,["enhancedPrompt"],a),e}function _l(n,t){const e={},o=s(t,["predictions"]);o!=null&&(Array.isArray(o)?i(e,["generatedImages"],o.map(l=>Al(n,l))):i(e,["generatedImages"],o));const r=s(t,["positivePromptSafetyAttributes"]);return r!=null&&i(e,["positivePromptSafetyAttributes"],yo(n,r)),e}function Sl(n,t){const e={},o=s(t,["totalTokens"]);return o!=null&&i(e,["totalTokens"],o),e}function Ml(n,t){const e={},o=s(t,["tokensInfo"]);return o!=null&&i(e,["tokensInfo"],o),e}function Rl(n,t){const e={},o=s(t,["gcsUri"]);o!=null&&i(e,["uri"],o);const r=s(t,["bytesBase64Encoded"]);r!=null&&i(e,["videoBytes"],ae(n,r));const l=s(t,["mimeType"]);return l!=null&&i(e,["mimeType"],l),e}function bl(n,t){const e={},o=s(t,["_self"]);return o!=null&&i(e,["video"],Rl(n,o)),e}function Nl(n,t){const e={},o=s(t,["videos"]);o!=null&&(Array.isArray(o)?i(e,["generatedVideos"],o.map(a=>bl(n,a))):i(e,["generatedVideos"],o));const r=s(t,["raiMediaFilteredCount"]);r!=null&&i(e,["raiMediaFilteredCount"],r);const l=s(t,["raiMediaFilteredReasons"]);return l!=null&&i(e,["raiMediaFilteredReasons"],l),e}function Pl(n,t){const e={},o=s(t,["name"]);o!=null&&i(e,["name"],o);const r=s(t,["metadata"]);r!=null&&i(e,["metadata"],r);const l=s(t,["done"]);l!=null&&i(e,["done"],l);const a=s(t,["error"]);a!=null&&i(e,["error"],a);const u=s(t,["response"]);u!=null&&i(e,["response"],u);const c=s(t,["response"]);return c!=null&&i(e,["result"],Nl(n,c)),e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function Dl(n,t){const e={},o=s(t,["config"]);o!=null&&i(e,["setup"],kl(n,o));const r=s(t,["model"]);return r!==void 0&&i(e,["setup","model"],r),e}function Fl(n,t){const e={},o=s(t,["config"]);o!=null&&i(e,["setup"],Ul(n,o));const r=s(t,["model"]);return r!==void 0&&i(e,["setup","model"],r),e}function Vl(n,t){const e={},o=s(t,["setupComplete"]);o!==void 0&&i(e,["setupComplete"],o);const r=s(t,["serverContent"]);r!=null&&i(e,["serverContent"],Gl(n,r));const l=s(t,["toolCall"]);l!=null&&i(e,["toolCall"],$l(n,l));const a=s(t,["toolCallCancellation"]);return a!=null&&i(e,["toolCallCancellation"],zl(n,a)),e}function Ll(n,t){const e={},o=s(t,["setupComplete"]);o!==void 0&&i(e,["setupComplete"],o);const r=s(t,["serverContent"]);r!=null&&i(e,["serverContent"],ql(n,r));const l=s(t,["toolCall"]);l!=null&&i(e,["toolCall"],Hl(n,l));const a=s(t,["toolCallCancellation"]);return a!=null&&i(e,["toolCallCancellation"],Kl(n,a)),e}function kl(n,t){const e={},o=s(t,["generationConfig"]);o!==void 0&&i(e,["generationConfig"],o);const r=s(t,["responseModalities"]);r!==void 0&&i(e,["generationConfig","responseModalities"],r);const l=s(t,["speechConfig"]);l!==void 0&&i(e,["generationConfig","speechConfig"],l);const a=s(t,["systemInstruction"]);a!=null&&i(e,["systemInstruction"],we(n,a));const u=s(t,["tools"]);return u!=null&&Array.isArray(u)&&i(e,["tools"],u.map(c=>fo(n,c))),e}function Ul(n,t){const e={},o=s(t,["generationConfig"]);o!==void 0&&i(e,["generationConfig"],o);const r=s(t,["responseModalities"]);r!==void 0?i(e,["generationConfig","responseModalities"],r):i(e,["generationConfig","responseModalities"],["AUDIO"]);const l=s(t,["speechConfig"]);l!==void 0&&i(e,["generationConfig","speechConfig"],l);const a=s(t,["systemInstruction"]);a!=null&&i(e,["systemInstruction"],ce(n,a));const u=s(t,["tools"]);return u!=null&&Array.isArray(u)&&i(e,["tools"],u.map(c=>st(n,c))),e}function Gl(n,t){const e={},o=s(t,["modelTurn"]);o!=null&&i(e,["modelTurn"],mo(n,o));const r=s(t,["turnComplete"]);r!==void 0&&i(e,["turnComplete"],r);const l=s(t,["interrupted"]);return l!==void 0&&i(e,["interrupted"],l),e}function ql(n,t){const e={},o=s(t,["modelTurn"]);o!=null&&i(e,["modelTurn"],go(n,o));const r=s(t,["turnComplete"]);r!==void 0&&i(e,["turnComplete"],r);const l=s(t,["interrupted"]);return l!==void 0&&i(e,["interrupted"],l),e}function Ol(n,t){const e={},o=s(t,["id"]);o!==void 0&&i(e,["id"],o);const r=s(t,["args"]);r!==void 0&&i(e,["args"],r);const l=s(t,["name"]);return l!==void 0&&i(e,["name"],l),e}function Bl(n,t){const e={},o=s(t,["args"]);o!==void 0&&i(e,["args"],o);const r=s(t,["name"]);return r!==void 0&&i(e,["name"],r),e}function $l(n,t){const e={},o=s(t,["functionCalls"]);return o!=null&&Array.isArray(o)&&i(e,["functionCalls"],o.map(r=>Ol(n,r))),e}function Hl(n,t){const e={},o=s(t,["functionCalls"]);return o!=null&&Array.isArray(o)&&i(e,["functionCalls"],o.map(r=>Bl(n,r))),e}function zl(n,t){const e={},o=s(t,["ids"]);return o!==void 0&&i(e,["ids"],o),e}function Kl(n,t){const e={},o=s(t,["ids"]);return o!==void 0&&i(e,["ids"],o),e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const Yl="FunctionResponse request must have an `id` field from the response of a ToolCall.FunctionalCalls in Google AI.";async function Wl(n,t,e){let o,r;e.data instanceof Blob?r=JSON.parse(await e.data.text()):r=JSON.parse(e.data),n.isVertexAI()?o=Ll(n,r):o=Vl(n,r),t(o)}class Jl{constructor(t,e,o){this.apiClient=t,this.auth=e,this.webSocketFactory=o}async connect(t){var e,o;const r=this.apiClient.getWebsocketBaseUrl(),l=this.apiClient.getApiVersion();let a;const u=jl(this.apiClient.getDefaultHeaders());if(this.apiClient.isVertexAI())a=`${r}/ws/google.cloud.aiplatform.${l}.LlmBidiService/BidiGenerateContent`,await this.auth.addAuthHeaders(u);else{const x=this.apiClient.getApiKey();a=`${r}/ws/google.ai.generativelanguage.${l}.GenerativeService.BidiGenerateContent?key=${x}`}let c=()=>{};const d=new Promise(x=>{c=x}),f=t.callbacks,p=function(){var x;(x=f==null?void 0:f.onopen)===null||x===void 0||x.call(f),c({})},v=this.apiClient,h={onopen:p,onmessage:x=>{Wl(v,f.onmessage,x)},onerror:(e=f==null?void 0:f.onerror)!==null&&e!==void 0?e:function(x){},onclose:(o=f==null?void 0:f.onclose)!==null&&o!==void 0?o:function(x){}},g=this.webSocketFactory.create(a,Zl(u),h);g.connect(),await d;let C=Y(this.apiClient,t.model);if(this.apiClient.isVertexAI()&&C.startsWith("publishers/")){const x=this.apiClient.getProject(),_=this.apiClient.getLocation();C=`projects/${x}/locations/${_}/`+C}let E={};const w={model:C,config:t.config,callbacks:t.callbacks};return this.apiClient.isVertexAI()?E=Fl(this.apiClient,w):E=Dl(this.apiClient,w),g.send(JSON.stringify(E)),new Ql(g,this.apiClient)}}const Xl={turnComplete:!0};class Ql{constructor(t,e){this.conn=t,this.apiClient=e}tLiveClientContent(t,e){if(e.turns!==null&&e.turns!==void 0){let o=[];try{o=L(t,e.turns),t.isVertexAI()?o=o.map(r=>ce(t,r)):o=o.map(r=>we(t,r))}catch{throw new Error(`Failed to parse client content "turns", type: '${typeof e.turns}'`)}return{clientContent:{turns:o,turnComplete:e.turnComplete}}}return{clientContent:{turnComplete:e.turnComplete}}}tLiveClientRealtimeInput(t,e){let o={};if(!("media"in e)||!e.media)throw new Error(`Failed to convert realtime input "media", type: '${typeof e.media}'`);return o={realtimeInput:{mediaChunks:[e.media]}},o}tLiveClienttToolResponse(t,e){let o=[];if(e.functionResponses==null)throw new Error("functionResponses is required.");if(Array.isArray(e.functionResponses)?o=e.functionResponses:o=[e.functionResponses],o.length===0)throw new Error("functionResponses is required.");for(const l of o){if(typeof l!="object"||l===null||!("name"in l)||!("response"in l))throw new Error(`Could not parse function response, type '${typeof l}'.`);if(!t.isVertexAI()&&!("id"in l))throw new Error(Yl)}return{toolResponse:{functionResponses:o}}}sendClientContent(t){t=Object.assign(Object.assign({},Xl),t);const e=this.tLiveClientContent(this.apiClient,t);this.conn.send(JSON.stringify(e))}sendRealtimeInput(t){if(t.media==null)throw new Error("Media is required.");const e=this.tLiveClientRealtimeInput(this.apiClient,t);this.conn.send(JSON.stringify(e))}sendToolResponse(t){if(t.functionResponses==null)throw new Error("Tool response parameters are required.");const e=this.tLiveClienttToolResponse(this.apiClient,t);this.conn.send(JSON.stringify(e))}close(){this.conn.close()}}function Zl(n){const t={};return n.forEach((e,o)=>{t[o]=e}),t}function jl(n){const t=new Headers;for(const[e,o]of Object.entries(n))t.append(e,o);return t}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class ea extends Ue{constructor(t){super(),this.apiClient=t,this.generateContent=async e=>await this.generateContentInternal(e),this.generateContentStream=async e=>await this.generateContentStreamInternal(e),this.generateImages=async e=>await this.generateImagesInternal(e).then(o=>{var r;let l;const a=[];if(o!=null&&o.generatedImages)for(const c of o.generatedImages)c&&(c!=null&&c.safetyAttributes)&&((r=c==null?void 0:c.safetyAttributes)===null||r===void 0?void 0:r.contentType)==="Positive Prompt"?l=c==null?void 0:c.safetyAttributes:a.push(c);let u;return l?u={generatedImages:a,positivePromptSafetyAttributes:l}:u={generatedImages:a},u})}async generateContentInternal(t){var e,o;let r,l="",a={};if(this.apiClient.isVertexAI()){const u=Yt(this.apiClient,t);return l=P("{model}:generateContent",u._url),a=u._query,delete u.config,delete u._url,delete u._query,r=this.apiClient.request({path:l,queryParams:a,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(e=t.config)===null||e===void 0?void 0:e.httpOptions}).then(c=>c.json()),r.then(c=>{const d=Jt(this.apiClient,c),f=new _e;return Object.assign(f,d),f})}else{const u=Kt(this.apiClient,t);return l=P("{model}:generateContent",u._url),a=u._query,delete u.config,delete u._url,delete u._query,r=this.apiClient.request({path:l,queryParams:a,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(o=t.config)===null||o===void 0?void 0:o.httpOptions}).then(c=>c.json()),r.then(c=>{const d=Wt(this.apiClient,c),f=new _e;return Object.assign(f,d),f})}}async generateContentStreamInternal(t){var e,o;let r,l="",a={};if(this.apiClient.isVertexAI()){const u=Yt(this.apiClient,t);l=P("{model}:streamGenerateContent?alt=sse",u._url),a=u._query,delete u.config,delete u._url,delete u._query;const c=this.apiClient;return r=c.requestStream({path:l,queryParams:a,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(e=t.config)===null||e===void 0?void 0:e.httpOptions}),r.then(function(d){return Fe(this,arguments,function*(){var f,p,v,h;try{for(var g=!0,C=Ze(d),E;E=yield K(C.next()),f=E.done,!f;g=!0){h=E.value,g=!1;const x=Jt(c,h),_=new _e;Object.assign(_,x),yield yield K(_)}}catch(w){p={error:w}}finally{try{!g&&!f&&(v=C.return)&&(yield K(v.call(C)))}finally{if(p)throw p.error}}})})}else{const u=Kt(this.apiClient,t);l=P("{model}:streamGenerateContent?alt=sse",u._url),a=u._query,delete u.config,delete u._url,delete u._query;const c=this.apiClient;return r=c.requestStream({path:l,queryParams:a,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(o=t.config)===null||o===void 0?void 0:o.httpOptions}),r.then(function(d){return Fe(this,arguments,function*(){var f,p,v,h;try{for(var g=!0,C=Ze(d),E;E=yield K(C.next()),f=E.done,!f;g=!0){h=E.value,g=!1;const x=Wt(c,h),_=new _e;Object.assign(_,x),yield yield K(_)}}catch(w){p={error:w}}finally{try{!g&&!f&&(v=C.return)&&(yield K(v.call(C)))}finally{if(p)throw p.error}}})})}}async embedContent(t){var e,o;let r,l="",a={};if(this.apiClient.isVertexAI()){const u=Ws(this.apiClient,t);return l=P("{model}:predict",u._url),a=u._query,delete u.config,delete u._url,delete u._query,r=this.apiClient.request({path:l,queryParams:a,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(e=t.config)===null||e===void 0?void 0:e.httpOptions}).then(c=>c.json()),r.then(c=>{const d=wl(this.apiClient,c),f=new qt;return Object.assign(f,d),f})}else{const u=_s(this.apiClient,t);return l=P("{model}:batchEmbedContents",u._url),a=u._query,delete u.config,delete u._url,delete u._query,r=this.apiClient.request({path:l,queryParams:a,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(o=t.config)===null||o===void 0?void 0:o.httpOptions}).then(c=>c.json()),r.then(c=>{const d=al(this.apiClient,c),f=new qt;return Object.assign(f,d),f})}}async generateImagesInternal(t){var e,o;let r,l="",a={};if(this.apiClient.isVertexAI()){const u=Xs(this.apiClient,t);return l=P("{model}:predict",u._url),a=u._query,delete u.config,delete u._url,delete u._query,r=this.apiClient.request({path:l,queryParams:a,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(e=t.config)===null||e===void 0?void 0:e.httpOptions}).then(c=>c.json()),r.then(c=>{const d=_l(this.apiClient,c),f=new Ot;return Object.assign(f,d),f})}else{const u=Ms(this.apiClient,t);return l=P("{model}:predict",u._url),a=u._query,delete u.config,delete u._url,delete u._query,r=this.apiClient.request({path:l,queryParams:a,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(o=t.config)===null||o===void 0?void 0:o.httpOptions}).then(c=>c.json()),r.then(c=>{const d=dl(this.apiClient,c),f=new Ot;return Object.assign(f,d),f})}}async countTokens(t){var e,o;let r,l="",a={};if(this.apiClient.isVertexAI()){const u=Zs(this.apiClient,t);return l=P("{model}:countTokens",u._url),a=u._query,delete u.config,delete u._url,delete u._query,r=this.apiClient.request({path:l,queryParams:a,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(e=t.config)===null||e===void 0?void 0:e.httpOptions}).then(c=>c.json()),r.then(c=>{const d=Sl(this.apiClient,c),f=new Bt;return Object.assign(f,d),f})}else{const u=bs(this.apiClient,t);return l=P("{model}:countTokens",u._url),a=u._query,delete u.config,delete u._url,delete u._query,r=this.apiClient.request({path:l,queryParams:a,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(o=t.config)===null||o===void 0?void 0:o.httpOptions}).then(c=>c.json()),r.then(c=>{const d=fl(this.apiClient,c),f=new Bt;return Object.assign(f,d),f})}}async computeTokens(t){var e;let o,r="",l={};if(this.apiClient.isVertexAI()){const a=js(this.apiClient,t);return r=P("{model}:computeTokens",a._url),l=a._query,delete a.config,delete a._url,delete a._query,o=this.apiClient.request({path:r,queryParams:l,body:JSON.stringify(a),httpMethod:"POST",httpOptions:(e=t.config)===null||e===void 0?void 0:e.httpOptions}).then(u=>u.json()),o.then(u=>{const c=Ml(this.apiClient,u),d=new $i;return Object.assign(d,c),d})}else throw new Error("This method is only supported by the Vertex AI.")}async generateVideos(t){var e,o;let r,l="",a={};if(this.apiClient.isVertexAI()){const u=nl(this.apiClient,t);return l=P("{model}:predictLongRunning",u._url),a=u._query,delete u.config,delete u._url,delete u._query,r=this.apiClient.request({path:l,queryParams:a,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(e=t.config)===null||e===void 0?void 0:e.httpOptions}).then(c=>c.json()),r.then(c=>Pl(this.apiClient,c))}else{const u=Ds(this.apiClient,t);return l=P("{model}:predictLongRunning",u._url),a=u._query,delete u.config,delete u._url,delete u._query,r=this.apiClient.request({path:l,queryParams:a,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(o=t.config)===null||o===void 0?void 0:o.httpOptions}).then(c=>c.json()),r.then(c=>gl(this.apiClient,c))}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function ta(n,t){const e={},o=s(t,["operationName"]);o!=null&&i(e,["_url","operationName"],o);const r=s(t,["config"]);return r!=null&&i(e,["config"],r),e}function na(n,t){const e={},o=s(t,["operationName"]);o!=null&&i(e,["_url","operationName"],o);const r=s(t,["config"]);return r!=null&&i(e,["config"],r),e}function oa(n,t){const e={},o=s(t,["operationName"]);o!=null&&i(e,["operationName"],o);const r=s(t,["resourceName"]);r!=null&&i(e,["_url","resourceName"],r);const l=s(t,["config"]);return l!=null&&i(e,["config"],l),e}function ra(n,t){const e={},o=s(t,["video","uri"]);o!=null&&i(e,["uri"],o);const r=s(t,["video","encodedVideo"]);r!=null&&i(e,["videoBytes"],ae(n,r));const l=s(t,["encoding"]);return l!=null&&i(e,["mimeType"],l),e}function ia(n,t){const e={},o=s(t,["_self"]);return o!=null&&i(e,["video"],ra(n,o)),e}function sa(n,t){const e={},o=s(t,["generatedSamples"]);o!=null&&(Array.isArray(o)?i(e,["generatedVideos"],o.map(a=>ia(n,a))):i(e,["generatedVideos"],o));const r=s(t,["raiMediaFilteredCount"]);r!=null&&i(e,["raiMediaFilteredCount"],r);const l=s(t,["raiMediaFilteredReasons"]);return l!=null&&i(e,["raiMediaFilteredReasons"],l),e}function la(n,t){const e={},o=s(t,["name"]);o!=null&&i(e,["name"],o);const r=s(t,["metadata"]);r!=null&&i(e,["metadata"],r);const l=s(t,["done"]);l!=null&&i(e,["done"],l);const a=s(t,["error"]);a!=null&&i(e,["error"],a);const u=s(t,["response"]);u!=null&&i(e,["response"],u);const c=s(t,["response","generateVideoResponse"]);return c!=null&&i(e,["result"],sa(n,c)),e}function aa(n,t){const e={},o=s(t,["gcsUri"]);o!=null&&i(e,["uri"],o);const r=s(t,["bytesBase64Encoded"]);r!=null&&i(e,["videoBytes"],ae(n,r));const l=s(t,["mimeType"]);return l!=null&&i(e,["mimeType"],l),e}function ua(n,t){const e={},o=s(t,["_self"]);return o!=null&&i(e,["video"],aa(n,o)),e}function ca(n,t){const e={},o=s(t,["videos"]);o!=null&&(Array.isArray(o)?i(e,["generatedVideos"],o.map(a=>ua(n,a))):i(e,["generatedVideos"],o));const r=s(t,["raiMediaFilteredCount"]);r!=null&&i(e,["raiMediaFilteredCount"],r);const l=s(t,["raiMediaFilteredReasons"]);return l!=null&&i(e,["raiMediaFilteredReasons"],l),e}function Xt(n,t){const e={},o=s(t,["name"]);o!=null&&i(e,["name"],o);const r=s(t,["metadata"]);r!=null&&i(e,["metadata"],r);const l=s(t,["done"]);l!=null&&i(e,["done"],l);const a=s(t,["error"]);a!=null&&i(e,["error"],a);const u=s(t,["response"]);u!=null&&i(e,["response"],u);const c=s(t,["response"]);return c!=null&&i(e,["result"],ca(n,c)),e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class da extends Ue{constructor(t){super(),this.apiClient=t}async get(t){const e=t.operation,o=t.config;if(e.name===void 0||e.name==="")throw new Error("Operation name is required.");if(this.apiClient.isVertexAI()){const l=e.name.split("/operations/")[0];var r=void 0;return o&&"httpOptions"in o&&(r=o.httpOptions),this.fetchPredictVideosOperationInternal({operationName:e.name,resourceName:l,config:{httpOptions:r}})}else return this.getVideosOperationInternal({operationName:e.name,config:o})}async getVideosOperationInternal(t){var e,o;let r,l="",a={};if(this.apiClient.isVertexAI()){const u=na(this.apiClient,t);return l=P("{operationName}",u._url),a=u._query,delete u.config,delete u._url,delete u._query,r=this.apiClient.request({path:l,queryParams:a,body:JSON.stringify(u),httpMethod:"GET",httpOptions:(e=t.config)===null||e===void 0?void 0:e.httpOptions}).then(c=>c.json()),r.then(c=>Xt(this.apiClient,c))}else{const u=ta(this.apiClient,t);return l=P("{operationName}",u._url),a=u._query,delete u.config,delete u._url,delete u._query,r=this.apiClient.request({path:l,queryParams:a,body:JSON.stringify(u),httpMethod:"GET",httpOptions:(o=t.config)===null||o===void 0?void 0:o.httpOptions}).then(c=>c.json()),r.then(c=>la(this.apiClient,c))}}async fetchPredictVideosOperationInternal(t){var e;let o,r="",l={};if(this.apiClient.isVertexAI()){const a=oa(this.apiClient,t);return r=P("{resourceName}:fetchPredictOperation",a._url),l=a._query,delete a.config,delete a._url,delete a._query,o=this.apiClient.request({path:r,queryParams:l,body:JSON.stringify(a),httpMethod:"POST",httpOptions:(e=t.config)===null||e===void 0?void 0:e.httpOptions}).then(u=>u.json()),o.then(u=>Xt(this.apiClient,u))}else throw new Error("This method is only supported by the Vertex AI.")}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const fa="Content-Type",pa="User-Agent",ma="x-goog-api-client",ha="0.7.0",ga=`google-genai-sdk/${ha}`,ya="v1beta1",va="v1beta",Qt=/^data: (.*)(?:\n\n|\r\r|\r\n\r\n)/;class Ca extends Error{constructor(t,e){e?super(t,{cause:e}):super(t,{cause:new Error().stack}),this.message=t,this.name="ClientError"}}class Zt extends Error{constructor(t,e){e?super(t,{cause:e}):super(t,{cause:new Error().stack}),this.message=t,this.name="ServerError"}}class xa{constructor(t){var e,o;this.clientOptions=Object.assign(Object.assign({},t),{project:t.project,location:t.location,apiKey:t.apiKey,vertexai:t.vertexai});const r={};this.clientOptions.vertexai?(r.apiVersion=(e=this.clientOptions.apiVersion)!==null&&e!==void 0?e:ya,this.getProject()||this.getLocation()?(r.baseUrl=`https://${this.clientOptions.location}-aiplatform.googleapis.com/`,this.clientOptions.apiKey=void 0):(r.baseUrl="https://aiplatform.googleapis.com/",this.clientOptions.project=void 0,this.clientOptions.location=void 0)):(r.apiVersion=(o=this.clientOptions.apiVersion)!==null&&o!==void 0?o:va,r.baseUrl="https://generativelanguage.googleapis.com/"),r.headers=this.getDefaultHeaders(),this.clientOptions.httpOptions=r,t.httpOptions&&(this.clientOptions.httpOptions=this.patchHttpOptions(r,t.httpOptions))}isVertexAI(){var t;return(t=this.clientOptions.vertexai)!==null&&t!==void 0?t:!1}getProject(){return this.clientOptions.project}getLocation(){return this.clientOptions.location}getApiVersion(){if(this.clientOptions.httpOptions&&this.clientOptions.httpOptions.apiVersion!==void 0)return this.clientOptions.httpOptions.apiVersion;throw new Error("API version is not set.")}getBaseUrl(){if(this.clientOptions.httpOptions&&this.clientOptions.httpOptions.baseUrl!==void 0)return this.clientOptions.httpOptions.baseUrl;throw new Error("Base URL is not set.")}getRequestUrl(){return this.getRequestUrlInternal(this.clientOptions.httpOptions)}getHeaders(){if(this.clientOptions.httpOptions&&this.clientOptions.httpOptions.headers!==void 0)return this.clientOptions.httpOptions.headers;throw new Error("Headers are not set.")}getRequestUrlInternal(t){if(!t||t.baseUrl===void 0||t.apiVersion===void 0)throw new Error("HTTP options are not correctly set.");const o=[t.baseUrl.endsWith("/")?t.baseUrl.slice(0,-1):t.baseUrl];return t.apiVersion&&t.apiVersion!==""&&o.push(t.apiVersion),o.join("/")}getBaseResourcePath(){return`projects/${this.clientOptions.project}/locations/${this.clientOptions.location}`}getApiKey(){return this.clientOptions.apiKey}getWebsocketBaseUrl(){const t=this.getBaseUrl(),e=new URL(t);return e.protocol="wss",e.toString()}setBaseUrl(t){if(this.clientOptions.httpOptions)this.clientOptions.httpOptions.baseUrl=t;else throw new Error("HTTP options are not correctly set.")}constructUrl(t,e){const o=[this.getRequestUrlInternal(e)];return this.clientOptions.vertexai&&!this.clientOptions.apiKey&&!t.startsWith("projects/")&&o.push(this.getBaseResourcePath()),t!==""&&o.push(t),new URL(`${o.join("/")}`)}async request(t){let e=this.clientOptions.httpOptions;t.httpOptions&&(e=this.patchHttpOptions(this.clientOptions.httpOptions,t.httpOptions));const o=this.constructUrl(t.path,e);if(t.queryParams)for(const[l,a]of Object.entries(t.queryParams))o.searchParams.append(l,String(a));let r={};if(t.httpMethod==="GET"){if(t.body&&t.body!=="{}")throw new Error("Request body should be empty for GET request, but got non empty request body")}else r.body=t.body;return r=await this.includeExtraHttpOptionsToRequestInit(r,e),this.unaryApiCall(o,r,t.httpMethod)}patchHttpOptions(t,e){const o=JSON.parse(JSON.stringify(t));for(const[r,l]of Object.entries(e))typeof l=="object"?o[r]=Object.assign(Object.assign({},o[r]),l):l!==void 0&&(o[r]=l);return o}async requestStream(t){let e=this.clientOptions.httpOptions;t.httpOptions&&(e=this.patchHttpOptions(this.clientOptions.httpOptions,t.httpOptions));const o=this.constructUrl(t.path,e);(!o.searchParams.has("alt")||o.searchParams.get("alt")!=="sse")&&o.searchParams.set("alt","sse");let r={};return r.body=t.body,r=await this.includeExtraHttpOptionsToRequestInit(r,e),this.streamApiCall(o,r,t.httpMethod)}async includeExtraHttpOptionsToRequestInit(t,e){if(e&&e.timeout&&e.timeout>0){const o=new AbortController,r=o.signal;setTimeout(()=>o.abort(),e.timeout),t.signal=r}return t.headers=await this.getHeadersInternal(e),t}async unaryApiCall(t,e,o){return this.apiCall(t.toString(),Object.assign(Object.assign({},e),{method:o})).then(async r=>(await jt(r),new uo(r))).catch(r=>{throw r instanceof Error?r:new Error(JSON.stringify(r))})}async streamApiCall(t,e,o){return this.apiCall(t.toString(),Object.assign(Object.assign({},e),{method:o})).then(async r=>(await jt(r),this.processStreamResponse(r))).catch(r=>{throw r instanceof Error?r:new Error(JSON.stringify(r))})}processStreamResponse(t){var e;return Fe(this,arguments,function*(){const r=(e=t==null?void 0:t.body)===null||e===void 0?void 0:e.getReader(),l=new TextDecoder("utf-8");if(!r)throw new Error("Response body is empty");try{let a="";for(;;){const{done:u,value:c}=yield K(r.read());if(u){if(a.trim().length>0)throw new Error("Incomplete JSON segment at the end");break}const d=l.decode(c);a+=d;let f=a.match(Qt);for(;f;){const p=f[1];try{const v=JSON.parse(p);yield yield K(v),a=a.slice(f[0].length),f=a.match(Qt)}catch(v){throw new Error(`exception parsing stream chunk ${p}. ${v}`)}}}}finally{r.releaseLock()}})}async apiCall(t,e){return fetch(t,e).catch(o=>{throw new Error(`exception ${o} sending request`)})}getDefaultHeaders(){const t={},e=ga+" "+this.clientOptions.userAgentExtra;return t[pa]=e,t[ma]=e,t[fa]="application/json",t}async getHeadersInternal(t){const e=new Headers;if(t&&t.headers)for(const[o,r]of Object.entries(t.headers))e.append(o,r);return await this.clientOptions.auth.addAuthHeaders(e),e}async uploadFile(t,e){var o;const r={};e!=null&&(r.mimeType=e.mimeType,r.name=e.name,r.displayName=e.displayName),r.name&&!r.name.startsWith("files/")&&(r.name=`files/${r.name}`);const l=this.clientOptions.uploader,a=await l.stat(t);r.sizeBytes=String(a.size);const u=(o=e==null?void 0:e.mimeType)!==null&&o!==void 0?o:a.type;if(u===void 0||u==="")throw new Error("Can not determine mimeType. Please provide mimeType in the config.");r.mimeType=u;const c=await this.fetchUploadUrl(r,e);return l.upload(t,c,this)}async fetchUploadUrl(t,e){var o;let r={};e!=null&&e.httpOptions?r=e.httpOptions:r={apiVersion:"",headers:{"Content-Type":"application/json","X-Goog-Upload-Protocol":"resumable","X-Goog-Upload-Command":"start","X-Goog-Upload-Header-Content-Length":`${t.sizeBytes}`,"X-Goog-Upload-Header-Content-Type":`${t.mimeType}`}};const l={file:t},a=await this.request({path:P("upload/v1beta/files",l._url),body:JSON.stringify(l),httpMethod:"POST",httpOptions:r});if(!a||!(a!=null&&a.headers))throw new Error("Server did not return an HttpResponse or the returned HttpResponse did not have headers.");const u=(o=a==null?void 0:a.headers)===null||o===void 0?void 0:o["x-goog-upload-url"];if(u===void 0)throw new Error("Failed to get upload url. Server did not return the x-google-upload-url in the headers");return u}}async function jt(n){var t;if(n===void 0)throw new Zt("response is undefined");if(!n.ok){const e=n.status,o=n.statusText;let r;!((t=n.headers.get("content-type"))===null||t===void 0)&&t.includes("application/json")?r=await n.json():r={error:{message:"exception parsing response",code:n.status,status:n.statusText}};const l=`got status: ${e} ${o}. ${JSON.stringify(r)}`;throw e>=400&&e<500?new Ca(l):e>=500&&e<600?new Zt(l):new Error(l)}}const Ea=1024*1024*8;async function Ta(n,t,e){var o,r;let l=0,a=0,u=new uo(new Response),c="upload";for(l=n.size;a<l;){const f=Math.min(Ea,l-a),p=n.slice(a,a+f);if(a+f>=l&&(c+=", finalize"),u=await e.request({path:"",body:p,httpMethod:"POST",httpOptions:{apiVersion:"",baseUrl:t,headers:{"X-Goog-Upload-Command":c,"X-Goog-Upload-Offset":String(a),"Content-Length":String(f)}}}),a+=f,((o=u==null?void 0:u.headers)===null||o===void 0?void 0:o["x-goog-upload-status"])!=="active")break;if(l<=a)throw new Error("All content has been uploaded, but the upload status is not finalized.")}const d=await(u==null?void 0:u.json());if(((r=u==null?void 0:u.headers)===null||r===void 0?void 0:r["x-goog-upload-status"])!=="final")throw new Error("Failed to upload file: Upload status is not finalized.");return d.file}async function wa(n){return{size:n.size,type:n.type}}class Ia{async upload(t,e,o){if(typeof t=="string")throw new Error("File path is not supported in browser uploader.");return await Ta(t,e,o)}async stat(t){if(typeof t=="string")throw new Error("File path is not supported in browser uploader.");return await wa(t)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class Aa{create(t,e,o){return new _a(t,e,o)}}class _a{constructor(t,e,o){this.url=t,this.headers=e,this.callbacks=o}connect(){this.ws=new WebSocket(this.url),this.ws.onopen=this.callbacks.onopen,this.ws.onerror=this.callbacks.onerror,this.ws.onclose=this.callbacks.onclose,this.ws.onmessage=this.callbacks.onmessage}send(t){if(this.ws===void 0)throw new Error("WebSocket is not connected");this.ws.send(t)}close(){if(this.ws===void 0)throw new Error("WebSocket is not connected");this.ws.close()}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const en="x-goog-api-key";class Sa{constructor(t){this.apiKey=t}async addAuthHeaders(t){t.get(en)===null&&t.append(en,this.apiKey)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const Ma="gl-node/";class Ra{constructor(t){var e;if(t.apiKey==null)throw new Error("An API Key must be set when running in a browser");if(t.project||t.location)throw new Error("Vertex AI project based authentication is not supported on browser runtimes. Please do not provide a project or location.");this.vertexai=(e=t.vertexai)!==null&&e!==void 0?e:!1,this.apiKey=t.apiKey,this.apiVersion=t.apiVersion;const o=new Sa(this.apiKey);this.apiClient=new xa({auth:o,apiVersion:this.apiVersion,apiKey:this.apiKey,vertexai:this.vertexai,httpOptions:t.httpOptions,userAgentExtra:Ma+"web",uploader:new Ia}),this.models=new ea(this.apiClient),this.live=new Jl(this.apiClient,o,new Aa),this.chats=new Qi(this.models,this.apiClient),this.caches=new Yi(this.apiClient),this.files=new cs(this.apiClient),this.operations=new da(this.apiClient)}}const ba="You are SecWay, a friendly and helpful AI assistant focused on web privacy and security within a browser extension. Your goal is to help non-technical users understand potential risks like excessive permissions, suspicious website behavior, and data collection. Explain concepts clearly and simply using straightforward language. Provide actionable recommendations for securing settings. Keep your tone encouraging, helpful, and educational. Do not mention that you are an AI model. When asked specifically about why a permission is important or risky (like camera, location, microphone, notifications), explain the potential privacy implications of granting it unnecessarily and why users should be cautious.",tn="AIzaSyCSbBV1OTdXfPDL6nhC8M8pz9p4hQyxp7Y",Oe="gemini-2.5-pro-preview-03-25",Na=({initialPrompt:n,onPromptConsumed:t})=>{const[e,o]=y.useState([{id:1,content:"Hi! I'm SecWay, your AI privacy assistant. How can I help you browse more safely today?",sender:"assistant",timestamp:new Date}]),[r,l]=y.useState(""),[a,u]=y.useState(!1),[c,d]=y.useState(null),f=y.useRef(null),[p,v]=y.useState(null),h=y.useMemo(()=>{try{return new Ra({apiKey:tn})}catch(x){return console.error("Failed to initialize GoogleGenAI:",x),d("Failed to initialize AI Client. Check console for details."),null}},[]),g=[{category:pe.HARM_CATEGORY_HARASSMENT,threshold:me.BLOCK_MEDIUM_AND_ABOVE},{category:pe.HARM_CATEGORY_HATE_SPEECH,threshold:me.BLOCK_MEDIUM_AND_ABOVE},{category:pe.HARM_CATEGORY_SEXUALLY_EXPLICIT,threshold:me.BLOCK_MEDIUM_AND_ABOVE},{category:pe.HARM_CATEGORY_DANGEROUS_CONTENT,threshold:me.BLOCK_MEDIUM_AND_ABOVE}],C={temperature:.7,topK:1,topP:1,maxOutputTokens:2048},E=()=>{var x,_,N,F;if(!a)(x=f.current)==null||x.scrollIntoView({behavior:"smooth"});else{const T=(N=(_=f.current)==null?void 0:_.parentElement)==null?void 0:N.parentElement;T&&T.scrollHeight-T.scrollTop<=T.clientHeight+150&&((F=f.current)==null||F.scrollIntoView({behavior:"auto"}))}};y.useEffect(()=>{E()},[e,a]);const w=y.useCallback(async x=>{var W,O,X,j,H,J,Q,S,de,G,B;const _=x??r.trim();if(_===""||!h||a){h||d("AI Client not initialized. Check API Key/console.");return}x||l(""),d(null);const N={id:Date.now(),content:_,sender:"user",timestamp:new Date},F=e.filter((M,k)=>k!==0).map(M=>({role:M.sender==="user"?"user":"model",parts:[{text:M.content}]})),T=[{role:"user",parts:[{text:ba}]},{role:"model",parts:[{text:"Okay, I understand my role as SecWay. I'm ready to help with web privacy and security."}]},...F,{role:"user",parts:[{text:_}]}],b=Date.now()+1,D={id:b,content:"...",sender:"assistant",timestamp:new Date};o(M=>[...M,N,D]),v(b),u(!0);try{const M=await h.models.generateContentStream({model:Oe,contents:T});let k="",$=!1;for await(const V of M){$=!1;let U=null;U=V.text,$=!0,U&&(k+=U,o(oe=>oe.map(ee=>ee.id===b?{...ee,content:k}:ee)))}if(k===""&&M&&typeof M.stream=="object"){console.warn("Direct iteration yielded no text, trying .stream property");for await(const V of M.stream){$=!1;let U=null;V&&typeof V.text!="function"&&typeof V.text<"u"?(U=V.text,$=!0):V&&typeof V.text=="function"?(U=V.text(),$=!0):V&&V.candidates&&((j=(X=(O=(W=V.candidates[0])==null?void 0:W.content)==null?void 0:O.parts)==null?void 0:X[0])!=null&&j.text)&&(U=V.candidates[0].content.parts[0].text,$=!0),U&&(k+=U,o(oe=>oe.map(ee=>ee.id===b?{...ee,content:k}:ee)))}}k===""&&(console.warn("Stream finished but no text was accumulated."),o(V=>V.map(U=>U.id===b&&U.content==="..."?{...U,content:"[No response content]"}:U)))}catch(M){console.error(`Error during stream from ${Oe}:`,M);let k=`Sorry, error communicating with ${Oe}.`;if(M instanceof Error){const $=((Q=(J=(H=M==null?void 0:M.response)==null?void 0:H.data)==null?void 0:J.error)==null?void 0:Q.message)||(M==null?void 0:M.message)||String(M),V=M.cause;k=`Stream Error: ${$}`,V&&V.message&&(k+=` (Detail: ${V.message})`),String(M).includes("400")?k+=" (Bad Request - check model access, request format/history structure, or safety filters)":String(M).includes("API key not valid")||String(M).includes("PERMISSION_DENIED")?k+=" (Check your API Key in .env or API permissions)":(String($).includes("SAFETY")||(de=(S=M==null?void 0:M.response)==null?void 0:S.promptFeedback)!=null&&de.blockReason)&&(k=`Stream stopped due to safety settings. Reason: ${((B=(G=M==null?void 0:M.response)==null?void 0:G.promptFeedback)==null?void 0:B.blockReason)||"Safety Filter"}`),console.error("Full Error Object:",M),V&&console.error("Google API Error Cause:",V)}else k=`Stream Error: ${String(M)}`;d(k),o($=>$.map(V=>V.id===b?{...V,content:`Error: ${k}`}:V))}finally{u(!1),v(null),x&&l("")}},[h,r,a,e,g,C,t]);return y.useEffect(()=>{n&&!a&&h&&(w(n),t==null||t())},[n,a,h,t,w]),!h&&!tn?m.jsxs("div",{className:"flex flex-col h-[350px] items-center justify-center bg-red-100 p-4 rounded-lg shadow-md border border-red-300 text-red-800",children:[m.jsx("h3",{className:"font-bold text-lg mb-2",children:"Configuration Error"}),m.jsx("p",{className:"text-center",children:c||"Gemini API Key missing. Set VITE_GEMINI_API_KEY in your .env file and restart the dev server."}),m.jsx("p",{className:"text-center text-xs mt-4 font-bold",children:"Remember: NEVER deploy this frontend code with a bundled API key!"})]}):!h&&c?m.jsxs("div",{className:"flex flex-col h-[350px] items-center justify-center bg-red-100 p-4 rounded-lg shadow-md border border-red-300 text-red-800",children:[m.jsx("h3",{className:"font-bold text-lg mb-2",children:"Initialization Error"}),m.jsx("p",{className:"text-center",children:c})]}):m.jsxs("div",{className:"flex flex-col h-[350px] bg-white p-4 rounded-lg shadow-md border border-gray-200",children:[m.jsx("div",{className:"flex-1 overflow-y-auto pr-2 mb-4 scrollbar-thin scrollbar-thumb-gray-300 scrollbar-track-gray-100",children:m.jsxs("div",{className:"space-y-4",children:[e.map(x=>m.jsx("div",{className:`flex ${x.sender==="user"?"justify-end":"justify-start"}`,children:m.jsxs("div",{className:`max-w-[85%] rounded-lg p-3 shadow-sm ${x.sender==="user"?"bg-emerald-600 text-white":"bg-gray-100 text-gray-800"} ${x.id===p&&x.content==="..."?"animate-pulse":""}`,children:[m.jsxs("div",{className:"flex items-center space-x-2 mb-1",children:[x.sender==="assistant"?m.jsx(Qe,{className:"h-6 w-6 bg-emerald-100 flex items-center justify-center",children:m.jsx(Pe,{className:"h-3 w-3 text-emerald-600"})}):m.jsx(Qe,{className:"h-6 w-6 bg-white border border-gray-300 flex items-center justify-center",children:m.jsx(ni,{className:"h-3 w-3 text-emerald-600"})}),m.jsx("span",{className:"text-xs font-medium",children:x.sender==="user"?"You":"SecWay AI"})]}),m.jsx("p",{className:"text-sm whitespace-pre-wrap break-words",children:x.content||" "})]})},x.id)),c&&m.jsx("div",{className:"flex justify-center",children:m.jsxs("div",{className:"max-w-[85%] rounded-lg p-3 bg-red-100 text-red-700 text-sm border border-red-200 shadow-sm",children:[m.jsx("strong",{children:"Error:"})," ",c]})}),m.jsx("div",{ref:f})]})}),m.jsxs("div",{className:"mt-auto flex items-center space-x-2 pt-2 border-t border-gray-200",children:[m.jsx($n,{placeholder:"Ask SecWay AI...",value:r,onChange:x=>l(x.target.value),onKeyPress:x=>{x.key==="Enter"&&!x.shiftKey&&(x.preventDefault(),w())},className:"flex-1 rounded-full px-4 py-2 border-gray-300 focus:border-emerald-500 focus:ring-emerald-500",disabled:a||!h}),m.jsx(Bn,{size:"icon",onClick:()=>w(),disabled:r.trim()===""||a||!h,className:"rounded-full flex-shrink-0 bg-emerald-600 hover:bg-emerald-700 text-white disabled:bg-gray-400",children:m.jsx(Zr,{className:"h-4 w-4"})})]})]})},Pa=On("inline-flex items-center rounded-md border px-2.5 py-0.5 text-xs font-semibold transition-colors focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2",{variants:{variant:{default:"border-transparent bg-primary text-primary-foreground shadow hover:bg-primary/80",secondary:"border-transparent bg-secondary text-secondary-foreground hover:bg-secondary/80",destructive:"border-transparent bg-destructive text-destructive-foreground shadow hover:bg-destructive/80",outline:"text-foreground"}},defaultVariants:{variant:"default"}});function Da({className:n,variant:t,...e}){return m.jsx("div",{className:z(Pa({variant:t}),n),...e})}const Fa=()=>{const[n,t]=y.useState({url:"Loading...",title:"Loading Tab Info",isSecure:!1});return y.useEffect(()=>{var e;typeof chrome<"u"&&((e=chrome.tabs)!=null&&e.query)?(async()=>{var o;try{const r=await chrome.tabs.query({active:!0,currentWindow:!0});if((o=r[0])!=null&&o.url){const l=new URL(r[0].url);t({url:l.hostname,title:r[0].title||"Untitled Tab",isSecure:l.protocol==="https:"})}}catch(r){console.error("Failed to query tabs:",r)}})():console.warn("Chrome API not available. Running in a non-extension environment.")},[]),m.jsx("div",{className:"bg-gray-50 p-3 border-b border-gray-200",children:m.jsxs("div",{className:"flex items-center justify-between",children:[m.jsxs("div",{className:"flex items-center",children:[m.jsx("div",{className:"w-8 h-8 bg-gray-200 rounded-md flex items-center justify-center mr-2",children:n.url.charAt(0).toUpperCase()}),m.jsxs("div",{className:"truncate",children:[m.jsx("div",{className:"font-medium text-sm truncate",children:n.title}),m.jsxs("div",{className:"text-xs text-gray-500 flex items-center",children:[n.isSecure?m.jsx(Pe,{className:"h-3 w-3 text-orange-600 mr-1"}):null,n.url]})]})]}),m.jsx(Da,{variant:n.isSecure?"outline":"destructive",className:"ml-2",children:n.isSecure?"Secure":"Not Secure"})]})})};function Va(){const[n,t]=y.useState({});y.useState(null);const[e,o]=y.useState("permissions"),[r,l]=y.useState(null),a=[{title:"Camera",desc:"Access to your camera",status:n.camera||"unknown"},{title:"Geolocation",desc:"Access to your location",status:n.geolocation||"unknown"},{title:"Notifications",desc:"Permission to send alerts",status:n.notifications||"unknown"},{title:"Microphone",desc:"Access to your microphone",status:n.microphone||"unknown"}];y.useEffect(()=>{console.log("Options: Checking chrome.storage for permissions"),chrome.storage.local.get(["secway_permissions"],f=>{console.log("Options: Retrieved from chrome.storage:",f.secway_permissions),f.secway_permissions?(console.log("Options: Parsed permissions:",f.secway_permissions),t(f.secway_permissions)):console.log("Options: No permissions found in chrome.storage")});const d=setInterval(()=>{chrome.storage.local.get(["secway_permissions"],f=>{f.secway_permissions&&(console.log("Options: Updated permissions found:",f.secway_permissions),t(f.secway_permissions))})},1e3);return()=>clearInterval(d)},[]);const u=d=>{l(`Why is granting the "${d}" permission to websites potentially risky or important to manage? Explain in simple terms.`),o("assistant")},c=()=>{l(null)};return m.jsxs("div",{className:"w-[400px] h-[600px] bg-white flex flex-col",children:[m.jsxs("div",{className:"flex items-center justify-between p-4 text-white bg-gradient-to-r from-orange-500 to-orange-600",children:[m.jsxs("div",{className:"flex items-center gap-2",children:[m.jsx(Pe,{className:"w-6 h-6"}),m.jsx("h1",{className:"text-xl font-bold",children:"SecWay"})]}),m.jsx("button",{className:"hover:opacity-80",children:m.jsx(ei,{className:"w-6 h-6"})})]}),m.jsx(Fa,{}),m.jsxs("div",{className:"flex-1 p-4 overflow-y-auto",children:[" ",m.jsxs(Lr,{value:e,onValueChange:o,children:[m.jsxs(kn,{className:"grid w-full grid-cols-2 mb-4",children:[m.jsxs(Ye,{value:"permissions",children:[m.jsx(Pe,{className:"mr-2 h-4 w-4"}),"Permissions"]}),m.jsxs(Ye,{value:"assistant",children:[m.jsx(Jr,{className:"mr-2 h-4 w-4"}),"AI Assistant"]})]}),m.jsx(We,{value:"permissions",children:m.jsxs("div",{className:"space-y-4",children:[m.jsx("h2",{className:"text-xl font-semibold",children:"Website Permission Status"}),m.jsx(Je,{children:m.jsx(Xe,{className:"pt-4 space-y-3",children:a.map((d,f)=>m.jsxs("div",{className:"flex items-center justify-between p-2 border border-gray-200 rounded-lg bg-gray-50",children:[m.jsxs("div",{children:[m.jsx("h3",{className:"font-medium",children:d.title}),m.jsx("p",{className:"text-sm text-gray-500",children:d.desc}),m.jsx("button",{onClick:()=>u(d.title),className:"text-xs text-blue-600 hover:underline mt-1 focus:outline-none",children:"Why is this important?"})]}),m.jsx("span",{className:`text-xs font-semibold px-2 py-1 rounded-full border ${d.status==="granted"?"bg-green-100 text-green-600 border-green-400":d.status==="warning"||d.status==="prompt"?"bg-yellow-100 text-yellow-600 border-yellow-400":"bg-red-100 text-red-600 border-red-400"}`,children:d.status==="granted"?"Granted":d.status==="warning"?"Limited":d.status==="prompt"?"Prompt":d.status})]},f))})})]})}),m.jsx(We,{value:"assistant",children:m.jsxs(Je,{children:[m.jsxs(Un,{children:[m.jsx(Gn,{children:"AI Privacy Assistant"}),m.jsx(qn,{children:"Ask questions about privacy and security or get help with the current website."})]}),m.jsx(Xe,{children:m.jsx(Na,{initialPrompt:r,onPromptConsumed:c})})]})})]})]}),m.jsx("div",{className:"p-3 text-xs text-center text-gray-500 border-t border-gray-200 bg-gray-50",children:"SecWay  Protecting your privacy, one permission at a time"})]})}Co.createRoot(document.getElementById("root")).render(m.jsx(se.StrictMode,{children:m.jsx(Va,{})}));
